\# T.C.  
\# SELÇUK ÜNİVERSİTESİ  
\# TEKNOLOJİ FAKÜLTESİ  
\# BİLGİSAYAR MÜHENDİSLİĞİ BÖLÜMÜ

\---

\# YAPAY ZEKA DESTEKLİ ÜNİVERSİTE BİLGİ ASİSTANI: SELÇUK AI ASİSTAN

\---

\#\# BİTİRME PROJESİ

\*\*Hazırlayanlar:\*\*  
\- Doğukan BALAMAN (203311066)  
\- Ali YILDIRIM (203311008)

\*\*Danışmanlar:\*\*  
\- Prof. Dr. Nurettin DOĞAN  
\- Dr. Öğr. Üyesi Onur İNAN

\*\*Ocak 2025\*\*

\*\*KONYA\*\*

\*\*Her Hakkı Saklıdır\*\*

\---

\#\# PROJE KABUL VE ONAYI

Doğukan BALAMAN ve Ali YILDIRIM tarafından hazırlanan "Yapay Zeka Destekli Üniversite Bilgi Asistanı: Selçuk AI Asistan" adlı proje çalışması …/…/2025 tarihinde aşağıdaki jüri üyeleri tarafından Selçuk Üniversitesi Teknoloji Fakültesi Bilgisayar Mühendisliği bölümünde Bitirme Projesi olarak kabul edilmiştir.

| Jüri Üyeleri | İmza |  
|--------------|------|  
| \*\*Danışman:\*\* Prof. Dr. Nurettin DOĞAN | ................... |  
| \*\*Danışman:\*\* Dr. Öğr. Üyesi Onur İNAN | ................... |  
| \*\*Üye:\*\* Unvanı Adı SOYADI | ................... |

Yukarıdaki sonucu onaylarım.

Bilgisayar Mühendisliği  
Bölüm Başkanı

\---

\#\# PROJE BİLDİRİMİ

Bu projedeki bütün bilgilerin etik davranış ve akademik kurallar çerçevesinde elde edildiğini ve proje yazım kurallarına uygun olarak hazırlanan bu çalışmada bize ait olmayan her türlü ifade ve bilginin kaynağına eksiksiz atıf yapıldığını bildiririz.

\*\*DECLARATION PAGE\*\*

We hereby declare that all information in this document has been obtained and presented in accordance with academic rules and ethical conduct. We also declare that, as required by project rules and conduct, we have fully cited and referenced all material and results that are not original to this work.

İmza

Doğukan BALAMAN  
Ali YILDIRIM

Tarih: …./…./2025

\---

\#\# ÖZET

\*\*BİTİRME PROJESİ\*\*

\*\*YAPAY ZEKA DESTEKLİ ÜNİVERSİTE BİLGİ ASİSTANI: SELÇUK AI ASİSTAN\*\*

\*\*Doğukan BALAMAN, Ali YILDIRIM\*\*

\*\*Selçuk Üniversitesi Teknoloji Fakültesi\*\*  
\*\*Bilgisayar Mühendisliği Bölümü\*\*

\*\*Danışmanlar: Prof. Dr. Nurettin DOĞAN, Dr. Öğr. Üyesi Onur İNAN\*\*

\*\*2025, … Sayfa\*\*

\*\*Jüri\*\*  
\- Prof. Dr. Nurettin DOĞAN  
\- Dr. Öğr. Üyesi Onur İNAN  
\- Unvanı Adı SOYADI

Bu proje çalışmasında, Selçuk Üniversitesi öğrenci ve personeline 7/24 hizmet verebilen, yapay zeka destekli bir bilgi asistanı geliştirilmiştir. Konya'da bulunan Selçuk Üniversitesi, Türkiye'nin en büyük üniversitelerinden biri olup 23 fakülte, 6 enstitü ve 20'den fazla meslek yüksekokulu ile yaklaşık 80.000 öğrenciye eğitim vermektedir. Bu denli büyük bir kurumda öğrencilerin ve personelin bilgiye hızlı erişimi kritik bir ihtiyaç haline gelmiştir.

Geliştirilen Selçuk AI Asistan, Büyük Dil Modelleri (Large Language Models \- LLM) ve Retrieval Augmented Generation (RAG) teknolojilerini kullanarak üniversite hakkında doğru ve güncel bilgiler sunmaktadır. Sistem, Python programlama dili ile geliştirilmiş backend servisleri ve Dart/Flutter ile geliştirilmiş mobil uygulama bileşenlerinden oluşmaktadır. Backend tarafında FastAPI framework'ü kullanılmış, RAG pipeline'ı için LangChain kütüphanesi ve FAISS vektör veritabanı entegre edilmiştir.

Proje kapsamında üniversitenin resmi web sitesinden ve kurumsal kaynaklardan derlenen bilgiler, yapılandırılmış bir knowledge base oluşturularak sisteme entegre edilmiştir. Bu sayede, yapay zeka modellerinin "hallucination" (uydurma bilgi üretme) problemi minimize edilmiş ve kullanıcılara güvenilir yanıtlar sağlanmıştır. Sistem; akademik takvim, fakülte bilgileri, öğrenci işleri prosedürleri, kampüs hizmetleri ve sıkça sorulan sorular gibi konularda bilgi sağlamaktadır.

Yapılan testlerde sistemin %90 üzerinde doğruluk oranı ile yanıt verdiği ve ortalama yanıt süresinin 3 saniyenin altında kaldığı tespit edilmiştir. Bu çalışma, üniversitelerde dijital dönüşüm sürecine katkı sağlamakta ve yapay zeka teknolojilerinin eğitim kurumlarında etkin kullanımına örnek teşkil etmektedir.

\*\*Anahtar Kelimeler:\*\* Büyük Dil Modelleri, Chatbot, Doğal Dil İşleme, Flutter, RAG, Selçuk Üniversitesi, Yapay Zeka

\---

\#\# ABSTRACT

\*\*GRADUATION PROJECT\*\*

\*\*ARTIFICIAL INTELLIGENCE POWERED UNIVERSITY INFORMATION ASSISTANT: SELCUK AI ASSISTANT\*\*

\*\*Doğukan BALAMAN, Ali YILDIRIM\*\*

\*\*Selcuk University Faculty of Technology\*\*  
\*\*Department of Computer Engineering\*\*

\*\*Advisors: Prof. Dr. Nurettin DOĞAN, Asst. Prof. Dr. Onur İNAN\*\*

\*\*2025, … Pages\*\*

\*\*Jury\*\*  
\- Prof. Dr. Nurettin DOĞAN  
\- Asst. Prof. Dr. Onur İNAN  
\- Title Name SURNAME

In this project, an artificial intelligence-powered information assistant has been developed to provide 24/7 service to students and staff of Selcuk University. Located in Konya, Selcuk University is one of Turkey's largest universities, serving approximately 80,000 students through 23 faculties, 6 institutes, and more than 20 vocational schools. In such a large institution, quick access to information for students and staff has become a critical need.

The developed Selcuk AI Assistant provides accurate and up-to-date information about the university using Large Language Models (LLM) and Retrieval Augmented Generation (RAG) technologies. The system consists of backend services developed with Python programming language and mobile application components developed with Dart/Flutter. FastAPI framework was used on the backend side, and LangChain library and FAISS vector database were integrated for the RAG pipeline.

Within the scope of the project, information compiled from the university's official website and institutional resources was integrated into the system by creating a structured knowledge base. This approach minimizes the "hallucination" problem of artificial intelligence models and provides reliable responses to users. The system provides information on topics such as academic calendar, faculty information, student affairs procedures, campus services, and frequently asked questions.

Tests have shown that the system responds with an accuracy rate of over 90% and an average response time of less than 3 seconds. This study contributes to the digital transformation process in universities and serves as an example of the effective use of artificial intelligence technologies in educational institutions.

\*\*Keywords:\*\* Artificial Intelligence, Chatbot, Flutter, Large Language Models, Natural Language Processing, RAG, Selcuk University

\---

\#\# ÖNSÖZ

Bu proje çalışması, Selçuk Üniversitesi Teknoloji Fakültesi Bilgisayar Mühendisliği Bölümü'nde bitirme projesi olarak hazırlanmıştır. Çalışmanın amacı, yapay zeka teknolojilerini kullanarak üniversite topluluğuna faydalı bir bilgi asistanı geliştirmektir.

Proje süresince değerli katkılarını esirgemeyen danışman hocalarımız Prof. Dr. Nurettin DOĞAN ve Dr. Öğr. Üyesi Onur İNAN'a, teknik konularda yardımcı olan arkadaşlarımıza ve manevi desteklerini her zaman hissettiğimiz ailelerimize teşekkürlerimizi sunarız.

Doğukan BALAMAN  
Ali YILDIRIM

Konya / 2025

\---

\#\# İÇİNDEKİLER

| | Sayfa |  
|---|---|  
| ÖZET | iv |  
| ABSTRACT | v |  
| ÖNSÖZ | vi |  
| İÇİNDEKİLER | vii |  
| SİMGELER VE KISALTMALAR | ix |  
| ŞEKİLLER LİSTESİ | x |  
| ÇİZELGELER LİSTESİ | xi |  
| | |  
| \*\*1. GİRİŞ\*\* | 1 |  
| 1.1. Projenin Arka Planı | 1 |  
| 1.2. Projenin Önemi | 2 |  
| 1.3. Projenin Kapsamı | 3 |  
| 1.4. Raporun Organizasyonu | 4 |  
| | |  
| \*\*2. KAYNAK ARAŞTIRMASI\*\* | 5 |  
| 2.1. Yapay Zeka ve Doğal Dil İşleme | 5 |  
| 2.2. Büyük Dil Modelleri (LLM) | 7 |  
| 2.3. RAG (Retrieval Augmented Generation) | 10 |  
| 2.4. Mobil Uygulama Geliştirme ve Flutter | 12 |  
| 2.5. Üniversite Chatbot Uygulamaları | 14 |  
| 2.6. İlgili Çalışmalar | 16 |  
| | |  
| \*\*3. MATERYAL VE YÖNTEM\*\* | 18 |  
| 3.1. Geliştirme Metodolojisi | 18 |  
| 3.2. Veri Toplama | 19 |  
| 3.3. Veri İşleme | 21 |  
| 3.4. Model Seçimi | 23 |  
| 3.5. RAG Pipeline Tasarımı | 25 |  
| 3.6. Değerlendirme Metrikleri | 27 |  
| | |  
| \*\*4. SİSTEM TASARIMI VE UYGULAMA\*\* | 28 |  
| 4.1. Genel Mimari | 28 |  
| 4.2. Backend Bileşeni | 30 |  
| 4.3. Mobil Uygulama Bileşeni | 33 |  
| 4.4. RAG Engine Bileşeni | 36 |  
| 4.5. API Tasarımı | 39 |  
| 4.6. Veritabanı ve Knowledge Base | 42 |  
| 4.7. Güvenlik Tasarımı | 45 |  
| | |  
| \*\*5. ARAŞTIRMA BULGULARI VE TARTIŞMA\*\* | 47 |  
| 5.1. Test Stratejisi | 47 |  
| 5.2. Test Senaryoları ve Sonuçları | 48 |  
| 5.3. Performans Değerlendirmesi | 51 |  
| 5.4. Karşılaşılan Zorluklar ve Çözümler | 54 |  
| | |  
| \*\*6. SONUÇLAR VE ÖNERİLER\*\* | 56 |  
| 6.1. Sonuçlar | 56 |  
| 6.2. Öneriler | 58 |  
| | |  
| \*\*KAYNAKLAR\*\* | 60 |  
| \*\*EKLER\*\* | 63 |  
| EK-A: Kod Örnekleri | 63 |  
| EK-B: API Dokümantasyonu | 70 |  
| EK-C: Knowledge Base Örneği | 74 |  
| EK-D: Ekran Görüntüleri | 77 |  
| EK-E: Test Sonuçları Detayı | 80 |  
| \*\*ÖZGEÇMİŞ\*\* | 83 |

\---

\#\# SİMGELER VE KISALTMALAR

\*\*Simgeler\*\*

| Simge | Açıklama |  
|-------|----------|  
| % | Yüzde |  
| \< | Küçüktür |  
| \> | Büyüktür |

\*\*Kısaltmalar\*\*

| Kısaltma | Açıklama |  
|----------|----------|  
| AI | Artificial Intelligence (Yapay Zeka) |  
| API | Application Programming Interface |  
| ASGI | Asynchronous Server Gateway Interface |  
| CSS | Cascading Style Sheets |  
| FAISS | Facebook AI Similarity Search |  
| GPT | Generative Pre-trained Transformer |  
| HTML | HyperText Markup Language |  
| HTTP | HyperText Transfer Protocol |  
| JSON | JavaScript Object Notation |  
| LLM | Large Language Model (Büyük Dil Modeli) |  
| NLP | Natural Language Processing (Doğal Dil İşleme) |  
| RAG | Retrieval Augmented Generation |  
| REST | Representational State Transfer |  
| SDK | Software Development Kit |  
| UI | User Interface (Kullanıcı Arayüzü) |  
| URL | Uniform Resource Locator |

\---

\#\# 1\. GİRİŞ

\#\#\# 1.1. Projenin Arka Planı

Yapay zeka teknolojileri, son yıllarda özellikle doğal dil işleme alanında büyük gelişmeler kaydetmiştir. 2017 yılında Google araştırmacıları tarafından geliştirilen Transformer mimarisi (Vaswani ve ark., 2017), bu alandaki en önemli dönüm noktalarından birini oluşturmuştur. Bu mimari üzerine inşa edilen GPT (Generative Pre-trained Transformer) serisi modeller, insan benzeri metin üretme ve anlama yetenekleriyle dikkat çekmiştir.

OpenAI tarafından 2022 yılında kullanıma sunulan ChatGPT, yapay zeka destekli sohbet robotlarının potansiyelini geniş kitlelere göstermiştir (OpenAI, 2022). Bu gelişme, eğitim kurumları dahil birçok sektörde yapay zeka uygulamalarına olan ilgiyi artırmıştır. Üniversiteler, öğrenci hizmetlerini iyileştirmek ve bilgiye erişimi kolaylaştırmak amacıyla bu teknolojileri kullanmaya başlamıştır.

Türkiye'de yükseköğretim kurumları, dijital dönüşüm sürecinde önemli adımlar atmaktadır. Yükseköğretim Kurulu (YÖK) tarafından desteklenen dijitalleşme çalışmaları, üniversitelerin teknoloji kullanımını teşvik etmektedir. Bu bağlamda, yapay zeka destekli asistanlar, öğrenci memnuniyetini artırma ve idari yükü azaltma potansiyeli taşımaktadır.

Selçuk Üniversitesi, 1975 yılında Konya'da kurulan ve Türkiye'nin en köklü üniversitelerinden biridir. Günümüzde 23 fakülte, 6 enstitü, 4 yüksekokul ve 21 meslek yüksekokulu ile yaklaşık 80.000 öğrenciye hizmet vermektedir (Selçuk Üniversitesi, 2024). Bu denli büyük bir kurumda, öğrencilerin ve personelin bilgiye hızlı ve doğru şekilde erişmesi kritik bir ihtiyaçtır.

Mobil teknolojilerin yaygınlaşması ile birlikte, kullanıcıların bilgiye erişim alışkanlıkları da değişmiştir. Günümüzde öğrencilerin büyük çoğunluğu akıllı telefon kullanmakta ve bilgiye mobil cihazlar üzerinden erişmeyi tercih etmektedir. Bu nedenle, geliştirilen sistemin hem web hem de mobil platformlarda erişilebilir olması önem taşımaktadır.

\#\#\# 1.2. Projenin Önemi

Selçuk Üniversitesi gibi büyük ölçekli bir kurumda, bilgi erişimi konusunda çeşitli zorluklar yaşanmaktadır:

\*\*Bilgi Dağınıklığı:\*\* Üniversite bilgileri farklı web sayfalarına, duyuru panolarına ve birimlere dağılmış durumdadır. Öğrenciler, ihtiyaç duydukları bilgiye ulaşmak için birden fazla kaynağı taramak zorunda kalmaktadır.

\*\*7/24 Destek Eksikliği:\*\* Öğrenci işleri, danışmanlık ve diğer destek birimleri mesai saatleri içinde hizmet vermektedir. Öğrencilerin mesai saatleri dışındaki soruları yanıtsız kalmaktadır.

\*\*Tekrarlayan Sorular:\*\* Üniversite personeli, benzer soruları tekrar tekrar yanıtlamak zorunda kalmaktadır. Bu durum, hem zaman kaybına hem de kaynak israfına neden olmaktadır.

\*\*Mobil Erişim İhtiyacı:\*\* Öğrenciler, hareket halindeyken de bilgiye erişmek istemektedir. Mevcut web tabanlı sistemler mobil kullanım için optimize edilmemiş olabilmektedir.

\*\*Dil Bariyeri:\*\* Uluslararası öğrenciler için Türkçe bilgi kaynaklarına erişim zorlaşmaktadır.

Bu proje, yukarıda belirtilen sorunlara çözüm sunmak amacıyla geliştirilmiştir. Yapay zeka destekli bir asistan, öğrencilere ve personele 7/24 hizmet vererek bilgiye erişimi kolaylaştıracaktır. RAG teknolojisi kullanılarak, asistanın yalnızca doğrulanmış ve güncel bilgiler sunması sağlanacaktır. Ayrıca Flutter ile geliştirilen mobil uygulama sayesinde kullanıcılar her yerden sisteme erişebilecektir.

\#\#\# 1.3. Projenin Kapsamı

Bu proje kapsamında aşağıdaki konular ele alınmıştır:

\*\*Kapsam Dahilinde:\*\*  
\- Selçuk Üniversitesi hakkında genel bilgiler (tarihçe, misyon, vizyon)  
\- Fakülte ve bölüm bilgileri  
\- Akademik takvim ve önemli tarihler  
\- Öğrenci işleri prosedürleri (kayıt, belge talepleri, vb.)  
\- Kampüs hizmetleri (kütüphane, yemekhane, ulaşım, yurt, vb.)  
\- Sıkça sorulan sorular (SSS)  
\- İletişim bilgileri  
\- Web tabanlı chat arayüzü  
\- Mobil uygulama (iOS ve Android)

\*\*Kapsam Dışında:\*\*  
\- Öğrenci not ve devamsızlık bilgileri (kişisel veri güvenliği)  
\- Ders içerikleri ve materyalleri  
\- Sınav soruları ve cevapları  
\- Personel özlük bilgileri  
\- Mali işlemler ve ödeme bilgileri  
\- OBS (Öğrenci Bilgi Sistemi) entegrasyonu

\#\#\# 1.4. Raporun Organizasyonu

Bu rapor altı ana bölümden oluşmaktadır:

\*\*Bölüm 1 \- Giriş:\*\* Projenin arka planı, önemi, kapsamı ve raporun organizasyonu açıklanmaktadır.

\*\*Bölüm 2 \- Kaynak Araştırması:\*\* Yapay zeka, doğal dil işleme, büyük dil modelleri, RAG teknolojileri ve mobil uygulama geliştirme hakkında literatür taraması sunulmaktadır.

\*\*Bölüm 3 \- Materyal ve Yöntem:\*\* Projede kullanılan metodoloji, veri toplama ve işleme süreçleri, model seçimi ve değerlendirme metrikleri açıklanmaktadır.

\*\*Bölüm 4 \- Sistem Tasarımı ve Uygulama:\*\* Sistemin mimarisi, bileşenleri, API tasarımı, mobil uygulama ve kullanıcı arayüzü detaylandırılmaktadır.

\*\*Bölüm 5 \- Araştırma Bulguları ve Tartışma:\*\* Test sonuçları, performans değerlendirmesi ve karşılaşılan zorluklar tartışılmaktadır.

\*\*Bölüm 6 \- Sonuçlar ve Öneriler:\*\* Projenin sonuçları özetlenmekte ve gelecek çalışmalar için öneriler sunulmaktadır.

\---

\#\# 2\. KAYNAK ARAŞTIRMASI

\#\#\# 2.1. Yapay Zeka ve Doğal Dil İşleme

Yapay zeka (Artificial Intelligence \- AI), makinelerin insan benzeri zeka gerektiren görevleri yerine getirmesini sağlayan bilgisayar bilimi dalıdır. Doğal dil işleme (Natural Language Processing \- NLP), yapay zekanın insan dilini anlama ve üretme yeteneğini inceleyen alt alanıdır (Jurafsky ve Martin, 2023).

NLP'nin tarihçesi 1950'lere kadar uzanmaktadır. Alan Turing'in "Computing Machinery and Intelligence" makalesi (Turing, 1950), makinelerin düşünüp düşünemeyeceği sorusunu gündeme getirmiştir. İlk NLP sistemleri, kural tabanlı yaklaşımlar kullanmıştır. ELIZA (Weizenbaum, 1966), ilk sohbet robotlarından biri olarak tarihe geçmiştir.

1980'ler ve 1990'larda istatistiksel yöntemler ön plana çıkmıştır. Makine öğrenmesi algoritmaları, büyük metin veri setlerinden örüntüler öğrenmeye başlamıştır. Hidden Markov Models (HMM) ve n-gram modelleri bu dönemin önemli teknikleridir.

2010'larda derin öğrenme devrimi yaşanmıştır. Recurrent Neural Networks (RNN) ve Long Short-Term Memory (LSTM) ağları, sıralı veri işlemede başarılı sonuçlar elde etmiştir (Hochreiter ve Schmidhuber, 1997). Word2Vec (Mikolov ve ark., 2013\) gibi kelime gömme (word embedding) teknikleri, kelimelerin anlamsal ilişkilerini yakalamayı mümkün kılmıştır.

2017 yılında Vaswani ve arkadaşları tarafından önerilen Transformer mimarisi, NLP alanında paradigma değişikliğine yol açmıştır. Self-attention mekanizması, uzun mesafeli bağımlılıkları etkili bir şekilde modellemeyi sağlamıştır. Bu mimari, günümüzün en güçlü dil modellerinin temelini oluşturmaktadır.

\#\#\# 2.2. Büyük Dil Modelleri (LLM)

Büyük dil modelleri (Large Language Models \- LLM), milyarlarca parametre içeren ve büyük metin veri setleri üzerinde eğitilen yapay sinir ağlarıdır. Bu modeller, metin üretme, çeviri, özetleme, soru cevaplama gibi çeşitli NLP görevlerinde üstün performans sergilemektedir.

\*\*GPT Serisi (OpenAI):\*\*

GPT (Generative Pre-trained Transformer), OpenAI tarafından geliştirilen bir dil modeli serisidir. GPT-1 (2018), 117 milyon parametre ile başlamıştır. GPT-2 (2019) 1.5 milyar, GPT-3 (2020) 175 milyar parametreye ulaşmıştır (Brown ve ark., 2020). GPT-4 (2023), multimodal yetenekleri ile dikkat çekmiştir (OpenAI, 2023). GPT-3.5-turbo modeli, maliyet-performans dengesi açısından yaygın olarak tercih edilmektedir.

\*\*Gemini (Google):\*\*

Gemini, Google DeepMind tarafından 2023 yılında tanıtılan multimodal AI modelidir. Metin, görüntü, ses ve video işleme yeteneklerine sahiptir (Google, 2023). Gemini Pro versiyonu, API üzerinden erişilebilir olup Türkçe dil desteği sunmaktadır.

\*\*BERT (Google):\*\*

BERT (Bidirectional Encoder Representations from Transformers), Google tarafından 2018 yılında tanıtılmıştır (Devlin ve ark., 2019). Çift yönlü bağlam anlama yeteneği ile metin anlama görevlerinde çığır açmıştır.

\*\*LLaMA (Meta):\*\*

LLaMA (Large Language Model Meta AI), Meta tarafından 2023 yılında açık kaynak olarak yayınlanmıştır. 7B ile 70B parametre arasında değişen versiyonları bulunmaktadır (Touvron ve ark., 2023).

\*\*Türkçe Dil Modelleri:\*\*

Türkçe için özelleştirilmiş modeller de geliştirilmektedir. BERTurk (Schweter, 2020\) ve Türkçe GPT modelleri, Türkçe NLP görevlerinde kullanılmaktadır. Ancak genel amaçlı LLM'lerin (GPT-4, Gemini) Türkçe performansı da oldukça yüksek seviyeye ulaşmıştır.

\#\#\# 2.3. RAG (Retrieval Augmented Generation)

RAG (Retrieval Augmented Generation), büyük dil modellerinin bilgi erişim sistemleri ile birleştirilmesiyle oluşturulan bir yaklaşımdır. Lewis ve arkadaşları (2020) tarafından önerilen bu yöntem, LLM'lerin "hallucination" (uydurma bilgi üretme) problemine çözüm sunmaktadır.

\*\*RAG'ın Çalışma Prensibi:\*\*

1\. \*\*Soru Alımı:\*\* Kullanıcıdan gelen soru alınır.  
2\. \*\*Belge Erişimi (Retrieval):\*\* Soru, vektör veritabanında aranır ve ilgili belgeler getirilir.  
3\. \*\*Bağlam Oluşturma:\*\* Getirilen belgeler, LLM'e bağlam olarak sunulur.  
4\. \*\*Yanıt Üretimi (Generation):\*\* LLM, verilen bağlam doğrultusunda yanıt üretir.

\*\*RAG'ın Avantajları:\*\*

\- \*\*Güncellik:\*\* Knowledge base güncellendiğinde, model yeniden eğitilmeden güncel bilgi sunabilir.  
\- \*\*Doğruluk:\*\* Yanıtlar, doğrulanmış kaynaklara dayandırılır.  
\- \*\*Şeffaflık:\*\* Yanıtların kaynakları gösterilebilir.  
\- \*\*Maliyet Etkinliği:\*\* Model fine-tuning gerektirmez.  
\- \*\*Kontrol:\*\* Hangi bilgilerin kullanılacağı kontrol edilebilir.

\*\*Vektör Veritabanları:\*\*

RAG sistemlerinde belgeler, vektör temsillerine dönüştürülerek saklanır. Popüler vektör veritabanları şunlardır:

\- \*\*FAISS (Facebook AI Similarity Search):\*\* Meta tarafından geliştirilen, yüksek performanslı benzer  
\#\# 2.3. RAG (Retrieval Augmented Generation) (Devam)

\*\*Vektör Veritabanları (Devam):\*\*

\- \*\*FAISS (Facebook AI Similarity Search):\*\* Meta tarafından geliştirilen, yüksek performanslı benzerlik arama kütüphanesidir. Milyonlarca vektör üzerinde hızlı arama yapabilmektedir. Açık kaynak olması ve Python entegrasyonunun kolay olması nedeniyle yaygın olarak tercih edilmektedir.  
\- \*\*ChromaDB:\*\* Hafif ve kullanımı kolay bir vektör veritabanıdır. LangChain ile doğrudan entegrasyon sağlamaktadır.  
\- \*\*Pinecone:\*\* Bulut tabanlı, yönetilen bir vektör veritabanı hizmetidir.  
\- \*\*Weaviate:\*\* Açık kaynak, GraphQL destekli vektör arama motorudur.  
\- \*\*Milvus:\*\* Ölçeklenebilir, dağıtık vektör veritabanıdır.

\*\*Embedding Modelleri:\*\*

Metinleri vektörlere dönüştürmek için embedding modelleri kullanılır:

\- \*\*OpenAI text-embedding-ada-002:\*\* OpenAI'ın embedding modeli olup 1536 boyutlu vektörler üretmektedir. Türkçe dahil çok dilli destek sunmaktadır.  
\- \*\*OpenAI text-embedding-3-small/large:\*\* Yeni nesil embedding modelleri olup daha yüksek performans sunmaktadır.  
\- \*\*Sentence-BERT:\*\* Açık kaynak, cümle düzeyinde embedding modelleridir.  
\- \*\*Instructor Embeddings:\*\* Görev bazlı özelleştirilebilir embedding modelleridir.

\*\*LangChain Framework:\*\*

LangChain, LLM tabanlı uygulamalar geliştirmek için kullanılan popüler bir Python framework'üdür (Chase, 2022). RAG pipeline'ları oluşturmak, prompt yönetimi, bellek yönetimi ve çeşitli veri kaynaklarıyla entegrasyon gibi özellikler sunmaktadır. Bu projede LangChain, RAG sisteminin temel bileşeni olarak kullanılmıştır.

\#\#\# 2.4. Mobil Uygulama Geliştirme ve Flutter

Mobil uygulama geliştirme, günümüzde yazılım projelerinin önemli bir bileşeni haline gelmiştir. Kullanıcıların büyük çoğunluğu mobil cihazlar üzerinden hizmetlere erişmektedir.

\*\*Cross-Platform Geliştirme:\*\*

Geleneksel olarak iOS ve Android için ayrı ayrı native uygulama geliştirmek gerekmekteydi. Bu durum, geliştirme süresini ve maliyetini artırmaktaydı. Cross-platform framework'ler, tek bir kod tabanından birden fazla platform için uygulama geliştirmeyi mümkün kılmıştır.

\*\*Flutter Framework:\*\*

Flutter, Google tarafından geliştirilen açık kaynaklı bir UI toolkit'tir (Google, 2018). Dart programlama dili kullanılarak tek bir kod tabanından iOS, Android, web ve masaüstü uygulamaları geliştirilebilmektedir.

Flutter'ın avantajları şunlardır:

\- \*\*Tek Kod Tabanı:\*\* iOS ve Android için aynı kod kullanılabilir.  
\- \*\*Hot Reload:\*\* Kod değişiklikleri anında görüntülenebilir.  
\- \*\*Zengin Widget Kütüphanesi:\*\* Material Design ve Cupertino widget'ları hazır olarak sunulmaktadır.  
\- \*\*Yüksek Performans:\*\* Native performansa yakın sonuçlar elde edilmektedir.  
\- \*\*Geniş Topluluk:\*\* Aktif geliştirici topluluğu ve zengin paket ekosistemi bulunmaktadır.

\*\*Dart Programlama Dili:\*\*

Dart, Google tarafından geliştirilen, nesne yönelimli bir programlama dilidir. Flutter uygulamaları Dart ile yazılmaktadır. Dart'ın özellikleri şunlardır:

\- Statik tip sistemi ile güvenli kod yazımı  
\- Async/await ile asenkron programlama desteği  
\- Null safety özelliği  
\- JIT (Just-In-Time) ve AOT (Ahead-Of-Time) derleme desteği

Bu projede Flutter, mobil uygulama bileşeninin geliştirilmesinde kullanılmıştır. Proje kod tabanının %49.2'si Dart/Flutter kodundan oluşmaktadır.

\#\#\# 2.5. Üniversite Chatbot Uygulamaları

Dünya genelinde birçok üniversite, yapay zeka destekli chatbot sistemleri geliştirmiştir:

\*\*Georgia State University \- Pounce:\*\*

Georgia State University, 2016 yılında Pounce adlı chatbot'u kullanıma sunmuştur. Sistem, öğrenci kayıt süreçlerinde %22 iyileşme sağlamıştır (Page ve Gehlbach, 2017). Özellikle yaz döneminde öğrencilerin sorularını yanıtlayarak "summer melt" (yaz erimesi) problemini azaltmıştır.

\*\*Deakin University \- Genie:\*\*

Avustralya'daki Deakin University, IBM Watson tabanlı Genie chatbot'unu geliştirmiştir. Sistem, öğrenci sorularının %80'ine otomatik yanıt vermektedir. Genie, ders seçimi, kampüs hizmetleri ve idari işlemler konusunda destek sağlamaktadır.

\*\*Arizona State University \- Sunny:\*\*

ASU, Sunny adlı AI asistanı ile öğrenci hizmetlerini desteklemektedir. Sistem, yılda 1 milyonun üzerinde etkileşim gerçekleştirmektedir. Sunny, öğrenci başarısını artırmak için proaktif bildirimler de göndermektedir.

\*\*University of Murcia \- Lola:\*\*

İspanya'daki Murcia Üniversitesi, Lola adlı chatbot'u geliştirmiştir. Sistem, İspanyolca doğal dil işleme kullanarak öğrenci sorularını yanıtlamaktadır.

\*\*Türkiye'deki Uygulamalar:\*\*

Türkiye'de de üniversiteler chatbot teknolojilerine yönelmektedir:

\- Boğaziçi Üniversitesi \- BounBot  
\- ODTÜ \- METU Assistant  
\- İstanbul Teknik Üniversitesi \- ITU Bot  
\- Sabancı Üniversitesi \- SU Asistan

Bu uygulamalar genellikle kural tabanlı sistemler veya basit NLP teknikleri kullanmaktadır. RAG tabanlı, LLM destekli kapsamlı bir sistem örneği henüz yaygınlaşmamıştır.

\#\#\# 2.6. İlgili Çalışmalar

Akademik literatürde üniversite chatbot'ları ve eğitimde yapay zeka kullanımı üzerine çeşitli çalışmalar bulunmaktadır:

Ranoliya ve arkadaşları (2017), üniversite chatbot'larının tasarım prensiplerini incelemiştir. Çalışma, kullanıcı deneyimi ve doğruluk oranının kritik faktörler olduğunu vurgulamıştır. Ayrıca, chatbot'ların SSS (Sıkça Sorulan Sorular) tabanlı sistemlere göre daha esnek olduğu belirtilmiştir.

Adamopoulou ve Moussiades (2020), chatbot teknolojilerinin kapsamlı bir incelemesini sunmuştur. Çalışma, NLP tabanlı chatbot'ların kural tabanlı sistemlere göre daha esnek olduğunu göstermiştir. Ayrıca, derin öğrenme tabanlı yaklaşımların performansı artırdığı belirlenmiştir.

Okonkwo ve Ade-Ibijola (2021), eğitimde chatbot kullanımının sistematik bir incelemesini yapmıştır. Çalışma, chatbot'ların öğrenci memnuniyetini artırdığını ancak karmaşık sorularda yetersiz kaldığını belirlemiştir. RAG sistemlerinin bu soruna çözüm sunabileceği önerilmiştir.

Kuhail ve arkadaşları (2023), eğitim chatbot'larının etkinliğini meta-analiz yöntemiyle değerlendirmiştir. Sonuçlar, chatbot'ların öğrenme çıktılarını olumlu etkilediğini göstermiştir. Özellikle 7/24 erişilebilirlik ve anında geri bildirim özelliklerinin faydalı olduğu belirlenmiştir.

Gao ve arkadaşları (2023), RAG sistemlerinin LLM hallucination problemini azaltmadaki etkinliğini incelemiştir. Çalışma, RAG'ın doğruluk oranını önemli ölçüde artırdığını göstermiştir.

\---

\#\# 3\. MATERYAL VE YÖNTEM

\#\#\# 3.1. Geliştirme Metodolojisi

Bu projede Agile (Çevik) yazılım geliştirme metodolojisi benimsenmiştir. Agile metodoloji, iteratif ve artımlı geliştirme süreçleri ile esneklik sağlamaktadır. Proje, iki haftalık sprint'ler halinde yürütülmüştür.

\*\*Sprint Planlaması:\*\*

\*\*Çizelge 3.1.\*\* Sprint planlaması

| Sprint | Süre | Hedefler |  
|--------|------|----------|  
| Sprint 1 | 2 hafta | Gereksinim analizi, teknoloji seçimi, proje yapısı oluşturma |  
| Sprint 2 | 2 hafta | Knowledge base oluşturma, veri toplama ve yapılandırma |  
| Sprint 3 | 2 hafta | Backend API geliştirme (FastAPI) |  
| Sprint 4 | 2 hafta | RAG pipeline implementasyonu (LangChain \+ FAISS) |  
| Sprint 5 | 2 hafta | Flutter mobil uygulama geliştirme \- Temel UI |  
| Sprint 6 | 2 hafta | Flutter mobil uygulama \- Chat özelliği entegrasyonu |  
| Sprint 7 | 2 hafta | Web arayüzü geliştirme |  
| Sprint 8 | 2 hafta | Entegrasyon, test ve optimizasyon |  
| Sprint 9 | 2 hafta | Dokümantasyon ve son düzenlemeler |

\*\*Kullanılan Araçlar:\*\*

\- \*\*Versiyon Kontrolü:\*\* Git, GitHub  
\- \*\*Proje Yönetimi:\*\* GitHub Projects, Trello  
\- \*\*İletişim:\*\* Discord, WhatsApp  
\- \*\*IDE:\*\* Visual Studio Code, Android Studio  
\- \*\*Dokümantasyon:\*\* Markdown, Notion  
\- \*\*Test:\*\* pytest, Flutter test framework

\*\*Görev Dağılımı:\*\*

Proje ekibi iki kişiden oluşmaktadır. Görev dağılımı şu şekilde yapılmıştır:

\- \*\*Doğukan BALAMAN:\*\* Backend geliştirme, RAG pipeline, API tasarımı, veri toplama  
\- \*\*Ali YILDIRIM:\*\* Flutter mobil uygulama geliştirme, UI/UX tasarımı, test

\#\#\# 3.2. Veri Toplama

Selçuk Üniversitesi hakkındaki veriler, çeşitli kaynaklardan sistematik olarak toplanmıştır.

\#\#\#\# 3.2.1. Veri Kaynakları

\*\*Birincil Kaynaklar:\*\*

\- Selçuk Üniversitesi Resmi Web Sitesi (www.selcuk.edu.tr)  
\- Öğrenci İşleri Daire Başkanlığı web sayfası  
\- Fakülte ve bölüm web siteleri  
\- Akademik takvim duyuruları  
\- Üniversite tanıtım broşürleri ve katalogları

\*\*İkincil Kaynaklar:\*\*

\- YÖK Atlas verileri  
\- Üniversite istatistik raporları  
\- Basın bültenleri ve haberler  
\- Sosyal medya hesapları

\#\#\#\# 3.2.2. Toplanan Veri Kategorileri

\*\*Çizelge 3.2.\*\* Toplanan veri kategorileri ve içerikleri

| Kategori | İçerik | Kayıt Sayısı |  
|----------|--------|--------------|  
| Genel Bilgiler | Tarihçe, misyon, vizyon, rektörlük, istatistikler | 30+ |  
| Fakülteler | 23 fakülte bilgisi, bölümler, iletişim, yönetim | 180+ |  
| Akademik Takvim | Dönem tarihleri, sınav takvimleri, tatiller | 60+ |  
| Öğrenci İşleri | Kayıt, belge, prosedürler, yönetmelikler | 100+ |  
| Kampüs Hizmetleri | Kütüphane, yemekhane, ulaşım, yurt, spor | 80+ |  
| SSS | Sıkça sorulan sorular ve cevaplar | 250+ |  
| İletişim | Birim telefon ve e-posta bilgileri | 120+ |  
| \*\*Toplam\*\* | | \*\*820+\*\* |

\#\#\#\# 3.2.3. Veri Toplama Süreci

Veri toplama süreci aşağıdaki adımlarla gerçekleştirilmiştir:

1\. \*\*Web Scraping:\*\* Python BeautifulSoup ve Selenium kütüphaneleri kullanılarak web sayfalarından veri çekilmiştir.

\`\`\`python  
from bs4 import BeautifulSoup  
import requests

def scrape\_faculty\_info(url):  
    response \= requests.get(url)  
    soup \= BeautifulSoup(response.content, 'html.parser')  
      
    faculty\_data \= {  
        'name': soup.find('h1', class\_='faculty-title').text,  
        'dean': soup.find('div', class\_='dean-info').text,  
        'departments': \[\],  
        'contact': {}  
    }  
      
    \# Bölümleri çek  
    dept\_list \= soup.find\_all('li', class\_='department-item')  
    for dept in dept\_list:  
        faculty\_data\['departments'\].append(dept.text.strip())  
      
    return faculty\_data  
\`\`\`

2\. \*\*Manuel Derleme:\*\* Otomatik olarak çekilemeyen veriler manuel olarak derlenmiştir. Özellikle PDF formatındaki belgeler ve dinamik içerikler manuel olarak işlenmiştir.

3\. \*\*Doğrulama:\*\* Toplanan veriler, resmi kaynaklarla karşılaştırılarak doğrulanmıştır. Tutarsızlıklar tespit edildiğinde resmi kaynak esas alınmıştır.

4\. \*\*Güncelleme:\*\* Veriler, belirli aralıklarla (haftalık) kontrol edilerek güncellenmiştir.

\#\#\# 3.3. Veri İşleme

Toplanan ham veriler, sistemde kullanılabilir hale getirilmek üzere işlenmiştir.

\#\#\#\# 3.3.1. Veri Temizleme

\- HTML etiketlerinin kaldırılması  
\- Gereksiz boşluk ve karakterlerin temizlenmesi  
\- Tutarsız formatların düzeltilmesi (tarih formatları, telefon numaraları vb.)  
\- Eksik bilgilerin tamamlanması veya işaretlenmesi  
\- Duplike kayıtların elenmesi  
\- Türkçe karakter sorunlarının giderilmesi

\`\`\`python  
import re

def clean\_text(text):  
    \# HTML etiketlerini kaldır  
    text \= re.sub(r'\<\[^\>\]+\>', '', text)  
      
    \# Fazla boşlukları temizle  
    text \= re.sub(r'\\s+', ' ', text)  
      
    \# Özel karakterleri normalize et  
    text \= text.replace('\\xa0', ' ')  
    text \= text.replace('\\n', ' ')  
      
    return text.strip()  
\`\`\`

\#\#\#\# 3.3.2. Veri Yapılandırma

Veriler, JSON formatında yapılandırılmıştır. Her kayıt için standart bir şema oluşturulmuştur:

\`\`\`json  
{  
  "id": "unique\_identifier",  
  "category": "kategori\_adı",  
  "subcategory": "alt\_kategori",  
  "title": "başlık",  
  "content": "içerik metni",  
  "keywords": \["anahtar", "kelimeler"\],  
  "source": "kaynak\_url",  
  "last\_updated": "2025-01-15",  
  "metadata": {  
    "faculty": "fakülte\_adı",  
    "department": "bölüm\_adı",  
    "contact": {  
      "phone": "telefon",  
      "email": "e-posta"  
    }  
  }  
}  
\`\`\`

\#\#\#\# 3.3.3. Metin Parçalama (Chunking)

RAG sistemi için metinler, optimal boyutlarda parçalara ayrılmıştır. Chunk boyutu, hem bağlam bütünlüğünü koruyacak hem de token limitlerini aşmayacak şekilde belirlenmiştir.

\- \*\*Chunk boyutu:\*\* 500-1000 karakter  
\- \*\*Overlap:\*\* 100-150 karakter (bağlam kaybını önlemek için)  
\- \*\*Ayırıcılar:\*\* Paragraf, cümle ve anlam bütünlüğü gözetilerek

\`\`\`python  
from langchain.text\_splitter import RecursiveCharacterTextSplitter

text\_splitter \= RecursiveCharacterTextSplitter(  
    chunk\_size=800,  
    chunk\_overlap=100,  
    length\_function=len,  
    separators=\["\\n\\n", "\\n", ".", "\!", "?", ",", " ", ""\]  
)

chunks \= text\_splitter.split\_documents(documents)  
print(f"Toplam {len(chunks)} chunk oluşturuldu.")  
\`\`\`

\#\#\#\# 3.3.4. Vektör Oluşturma (Embedding)

Metin parçaları, embedding modeli kullanılarak vektör temsillerine dönüştürülmüştür:

\`\`\`python  
from langchain.embeddings import OpenAIEmbeddings  
from langchain.vectorstores import FAISS

\# Embedding modeli  
embeddings \= OpenAIEmbeddings(  
    model="text-embedding-ada-002",  
    openai\_api\_key=os.getenv("OPENAI\_API\_KEY")  
)

\# Vektör store oluşturma  
vector\_store \= FAISS.from\_documents(chunks, embeddings)

\# Kaydetme  
vector\_store.save\_local("data/vector\_store")  
\`\`\`

\#\#\# 3.4. Model Seçimi

Proje için uygun LLM seçimi, çeşitli kriterlere göre değerlendirilmiştir.

\#\#\#\# 3.4.1. Değerlendirme Kriterleri

\*\*Çizelge 3.3.\*\* Model değerlendirme kriterleri

| Kriter | Ağırlık | Açıklama |  
|--------|---------|----------|  
| Türkçe Performansı | %30 | Türkçe anlama ve üretme kalitesi |  
| Maliyet | %25 | API kullanım maliyeti |  
| Yanıt Süresi | %20 | Ortalama yanıt süresi |  
| Entegrasyon Kolaylığı | %15 | API dokümantasyonu ve SDK desteği |  
| Güvenilirlik | %10 | Uptime ve hata oranı |

\#\#\#\# 3.4.2. Model Karşılaştırması

\*\*Çizelge 3.4.\*\* LLM model karşılaştırması

| Model | Türkçe Performansı | Maliyet | Yanıt Süresi | Entegrasyon | Toplam Puan |  
|-------|-------------------|---------|--------------|-------------|-------------|  
| GPT-4 | Çok İyi (9/10) | Yüksek (5/10) | Orta (7/10) | Çok İyi (9/10) | 76/100 |  
| GPT-3.5-turbo | İyi (8/10) | Düşük (9/10) | Hızlı (9/10) | Çok İyi (9/10) | 86/100 |  
| Gemini Pro | Çok İyi (9/10) | Orta (7/10) | Hızlı (8/10) | İyi (8/10) | 82/100 |  
| Claude 3 Sonnet | Çok İyi (9/10) | Orta (7/10) | Orta (7/10) | İyi (7/10) | 77/100 |  
| LLaMA 2 (Local) | Orta (6/10) | Çok Düşük (10/10) | Değişken (5/10) | Zor (5/10) | 65/100 |

\#\#\#\# 3.4.3. Seçilen Model

Değerlendirme sonucunda, \*\*GPT-3.5-turbo\*\* ana model olarak tercih edilmiştir. Seçim gerekçeleri:

\- Türkçe dil desteğinin yeterliliği  
\- Maliyet-performans dengesinin optimal olması  
\- Hızlı yanıt süresi  
\- LangChain ile kolay entegrasyon  
\- Kapsamlı dokümantasyon

Ayrıca, karmaşık sorular için \*\*GPT-4\*\* modeline yükseltme (fallback) mekanizması da eklenmiştir.

\#\#\# 3.5. RAG Pipeline Tasarımı

RAG (Retrieval Augmented Generation) pipeline'ı, sistemin temel bileşenini oluşturmaktadır.

\#\#\#\# 3.5.1. Pipeline Mimarisi

\`\`\`  
┌─────────────────────────────────────────────────────────────┐  
│                     KULLANICI SORUSU                        │  
└─────────────────────────┬───────────────────────────────────┘  
                          │  
                          ▼  
┌─────────────────────────────────────────────────────────────┐  
│                   SORU İŞLEME (Query Processing)            │  
│  • Metin temizleme ve normalizasyon                         │  
│  • Soru analizi ve sınıflandırma                            │  
│  • Query embedding oluşturma                                │  
└─────────────────────────┬───────────────────────────────────┘  
                          │  
                          ▼  
┌─────────────────────────────────────────────────────────────┐  
│                   BELGE ERİŞİMİ (Retrieval)                 │  
│  • Vektör benzerlik araması (FAISS)                         │  
│  • Top-K belge seçimi (K=4)                                 │  
│  • Relevance scoring ve filtreleme                          │  
└─────────────────────────┬───────────────────────────────────┘  
                          │  
                          ▼  
┌─────────────────────────────────────────────────────────────┐  
│                   BAĞLAM OLUŞTURMA (Context Building)       │  
│  • Belgelerin birleştirilmesi                               │  
│  • Prompt template uygulama                                 │  
│  • Token limiti kontrolü (max 3000 token)                   │  
└─────────────────────────┬───────────────────────────────────┘  
                          │  
                          ▼  
┌─────────────────────────────────────────────────────────────┐  
│                   YANIT ÜRETİMİ (Generation)                │  
│  • LLM API çağrısı (GPT-3.5-turbo)                          │  
│  • Yanıt işleme ve formatlama                               │  
│  • Kaynak referansı ekleme                                  │  
└─────────────────────────┬───────────────────────────────────┘  
                          │  
                          ▼  
┌─────────────────────────────────────────────────────────────┐  
│                     KULLANICIYA YANIT                       │  
└─────────────────────────────────────────────────────────────┘  
\`\`\`

\*\*Şekil 3.1.\*\* RAG pipeline mimarisi

\#\#\#\# 3.5.2. Retrieval Stratejisi

Belge erişimi için hibrit bir yaklaşım benimsenmiştir:

1\. \*\*Semantic Search:\*\* Vektör benzerliği ile anlamsal arama  
2\. \*\*Keyword Matching:\*\* Anahtar kelime eşleştirme  
3\. \*\*Hybrid Ranking:\*\* İki yöntemin sonuçlarının birleştirilmesi

\`\`\`python  
from langchain.retrievers import EnsembleRetriever  
from langchain.retrievers import BM25Retriever

\# Semantic retriever  
semantic\_retriever \= vector\_store.as\_retriever(  
    search\_type="similarity",  
    search\_kwargs={"k": 5}  
)

\# Keyword retriever (BM25)  
bm25\_retriever \= BM25Retriever.from\_documents(documents)  
bm25\_retriever.k \= 5

\# Ensemble retriever  
ensemble\_retriever \= EnsembleRetriever(  
    retrievers=\[semantic\_retriever, bm25\_retriever\],  
    weights=\[0.6, 0.4\]  \# Semantic ağırlığı daha yüksek  
)  
\`\`\`

\#\#\#\# 3.5.3. Prompt Engineering

Sistem prompt'u, asistanın davranışını ve yanıt formatını belirlemektedir:

\`\`\`python  
SYSTEM\_PROMPT \= """  
Sen Selçuk Üniversitesi AI Asistanısın. Görevin, Selçuk Üniversitesi   
hakkında doğru ve güncel bilgiler sunmaktır.

ÖNEMLİ KURALLAR:  
1\. YALNIZCA aşağıdaki BAĞLAM bilgilerini kullan.  
2\. Bağlamda OLMAYAN bilgileri KESİNLİKLE UYDURMA.  
3\. Emin olmadığın konularda "Bu konuda kesin bilgim bulunmamaktadır" de.  
4\. Yanıtlarını Türkçe ver.  
5\. Kısa, öz ve anlaşılır yanıtlar ver.  
6\. Nazik ve yardımsever ol.  
7\. Gerektiğinde madde işaretleri kullan.

TEMEL BİLGİLER (Her zaman doğru kabul et):  
\- Selçuk Üniversitesi KONYA'dadır (İzmir, Ankara veya başka şehir DEĞİL\!)  
\- 1975 yılında kurulmuştur  
\- Türkiye'nin en büyük üniversitelerinden biridir  
\- 23 fakültesi bulunmaktadır  
\- Yaklaşık 80.000 öğrencisi vardır

BAĞLAM:  
{context}

KULLANICI SORUSU: {question}

YANITINI YALNIZCA BAĞLAM BİLGİLERİNE DAYANDIRARAK VER:  
"""  
\`\`\`

\#\#\# 3.6. Değerlendirme Metrikleri

Sistemin performansı, çeşitli metrikler kullanılarak değerlendirilmiştir.

\#\#\#\# 3.6.1. Doğruluk Metrikleri

\*\*Çizelge 3.5.\*\* Doğruluk metrikleri

| Metrik | Açıklama | Hedef |  
|--------|----------|-------|  
| Accuracy | Doğru yanıt oranı | ≥ %90 |  
| Precision | Verilen yanıtların doğruluğu | ≥ %95 |  
| Recall | Soruların cevaplanma oranı | ≥ %85 |  
| F1 Score | Precision ve Recall harmonik ortalaması | ≥ %90 |  
| Hallucination Rate | Uydurma bilgi oranı | \< %5 |

\#\#\#\# 3.6.2. Performans Metrikleri

\*\*Çizelge 3.6.\*\* Performans metrikleri

| Metrik | Açıklama | Hedef |  
|--------|----------|-------|  
| Response Time | Ortalama yanıt süresi | \< 3 saniye |  
| Throughput | Saniyede işlenen istek sayısı | ≥ 10 req/s |  
| Availability | Sistem erişilebilirlik oranı | ≥ %99 |  
| Error Rate | Hata oranı | \< %1 |

\#\#\#\# 3.6.3. Kullanıcı Deneyimi Metrikleri

\*\*Çizelge 3.7.\*\* Kullanıcı deneyimi metrikleri

| Metrik | Açıklama | Hedef |  
|--------|----------|-------|  
| User Satisfaction | Kullanıcı memnuniyet puanı (1-5) | ≥ 4.0 |  
| Task Completion Rate | Görev tamamlama oranı | ≥ %80 |  
| Conversation Length | Ortalama konuşma uzunluğu | 3-5 mesaj |  
| App Rating | Mobil uygulama puanı | ≥ 4.0 |

\---

\#\# 4\. SİSTEM TASARIMI VE UYGULAMA

\#\#\# 4.1. Genel Mimari

Selçuk AI Asistan, modern mikroservis mimarisi prensipleri gözetilerek tasarlanmıştır. Sistem, modüler yapısı sayesinde  
\#\# 4\. SİSTEM TASARIMI VE UYGULAMA (Devam)

\#\#\# 4.1. Genel Mimari (Devam)

Selçuk AI Asistan, modern mikroservis mimarisi prensipleri gözetilerek tasarlanmıştır. Sistem, modüler yapısı sayesinde ölçeklenebilir ve bakımı kolay bir yapıya sahiptir.

\#\#\#\# 4.1.1. Mimari Diyagramı

\`\`\`  
┌─────────────────────────────────────────────────────────────────────────────┐  
│                              KULLANICILAR                                   │  
│                    (Web Tarayıcı / iOS / Android)                           │  
└───────────────────────────────┬─────────────────────────────────────────────┘  
                                │ HTTPS  
                ┌───────────────┴───────────────┐  
                │                               │  
                ▼                               ▼  
┌───────────────────────────┐     ┌───────────────────────────────────────────┐  
│      WEB ARAYÜZÜ          │     │           MOBİL UYGULAMA                  │  
│   (Streamlit/Gradio)      │     │         (Flutter \- Dart)                  │  
│   • Chat Interface        │     │   • iOS App                               │  
│   • Responsive Design     │     │   • Android App                           │  
│   • Session Management    │     │   • Native UI Components                  │  
└───────────────┬───────────┘     └───────────────────┬───────────────────────┘  
                │                                     │  
                └─────────────────┬───────────────────┘  
                                  │ REST API  
                                  ▼  
┌─────────────────────────────────────────────────────────────────────────────┐  
│                           BACKEND LAYER                                     │  
│  ┌───────────────────────────────────────────────────────────────────────┐ │  
│  │                         API GATEWAY                                    │ │  
│  │                    (FastAPI \- Python)                                  │ │  
│  │  • Request Routing          • Rate Limiting                           │ │  
│  │  • Authentication           • Logging & Monitoring                    │ │  
│  │  • Input Validation         • Error Handling                          │ │  
│  └─────────────────────────────────┬─────────────────────────────────────┘ │  
│                                    │                                        │  
│  ┌─────────────────────────────────┴─────────────────────────────────────┐ │  
│  │                         CORE SERVICES                                  │ │  
│  │  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────┐   │ │  
│  │  │   Chat Service  │  │   RAG Engine    │  │  Knowledge Base     │   │ │  
│  │  │                 │  │   (LangChain)   │  │  Manager            │   │ │  
│  │  │  • Session Mgmt │  │                 │  │                     │   │ │  
│  │  │  • History      │  │  • Retrieval    │  │  • CRUD Operations  │   │ │  
│  │  │  • Formatting   │  │  • Generation   │  │  • Search           │   │ │  
│  │  └────────┬────────┘  └────────┬────────┘  └──────────┬──────────┘   │ │  
│  │           │                    │                      │              │ │  
│  └───────────┼────────────────────┼──────────────────────┼──────────────┘ │  
└──────────────┼────────────────────┼──────────────────────┼──────────────────┘  
               │                    │                      │  
               ▼                    ▼                      ▼  
┌─────────────────────────────────────────────────────────────────────────────┐  
│                            DATA LAYER                                       │  
│  ┌─────────────────────┐  ┌─────────────────────┐  ┌─────────────────────┐ │  
│  │     LLM API         │  │   Vector Store      │  │   Knowledge Base    │ │  
│  │  (OpenAI/Gemini)    │  │   (FAISS)           │  │   (JSON Files)      │ │  
│  │                     │  │                     │  │                     │ │  
│  │  • GPT-3.5-turbo    │  │  • Embeddings       │  │  • Structured Data  │ │  
│  │  • GPT-4 (fallback) │  │  • Similarity Search│  │  • 820+ Entries     │ │  
│  └─────────────────────┘  └─────────────────────┘  └─────────────────────┘ │  
└─────────────────────────────────────────────────────────────────────────────┘  
\`\`\`

\*\*Şekil 4.1.\*\* Sistem mimarisi genel görünümü

\#\#\#\# 4.1.2. Katmanlı Mimari

Sistem, üç ana katmandan oluşmaktadır:

\*\*1. Sunum Katmanı (Presentation Layer):\*\*  
\- Web arayüzü (Streamlit/Gradio)  
\- Flutter mobil uygulama (iOS ve Android)  
\- Chat widget bileşenleri  
\- Responsive tasarım

\*\*2. İş Mantığı Katmanı (Business Logic Layer):\*\*  
\- FastAPI backend servisleri  
\- RAG pipeline (LangChain)  
\- Sohbet yönetimi ve oturum kontrolü  
\- Input validation ve sanitization

\*\*3. Veri Katmanı (Data Layer):\*\*  
\- FAISS vektör veritabanı  
\- JSON tabanlı knowledge base  
\- LLM API entegrasyonları  
\- Yapılandırma dosyaları

\#\#\#\# 4.1.3. Teknoloji Stack'i

\*\*Çizelge 4.1.\*\* Kullanılan teknolojiler

| Katman | Teknoloji | Versiyon | Kullanım Amacı |  
|--------|-----------|----------|----------------|  
| \*\*Backend\*\* | Python | 3.10+ | Ana programlama dili |  
| | FastAPI | 0.104+ | Web framework |  
| | Uvicorn | 0.24+ | ASGI server |  
| | Pydantic | 2.5+ | Data validation |  
| \*\*AI/ML\*\* | LangChain | 0.1+ | RAG framework |  
| | OpenAI | 1.6+ | LLM API client |  
| | FAISS | 1.7+ | Vector database |  
| \*\*Mobile\*\* | Flutter | 3.16+ | Cross-platform framework |  
| | Dart | 3.2+ | Programlama dili |  
| | http | 1.1+ | HTTP client |  
| | provider | 6.1+ | State management |  
| \*\*Web UI\*\* | Streamlit | 1.29+ | Web arayüzü |  
| \*\*DevOps\*\* | Docker | 24+ | Containerization |  
| | Git | 2.40+ | Version control |

\#\#\# 4.2. Backend Bileşeni

Backend, API endpoint'lerini ve iş mantığını barındırmaktadır. FastAPI framework'ü kullanılarak geliştirilmiştir.

\#\#\#\# 4.2.1. Proje Dizin Yapısı

\`\`\`  
selcuk-ai-assistant/  
├── backend/  
│   ├── app/  
│   │   ├── \_\_init\_\_.py  
│   │   ├── main.py                 \# FastAPI uygulaması  
│   │   ├── config.py               \# Yapılandırma  
│   │   ├── api/  
│   │   │   ├── \_\_init\_\_.py  
│   │   │   ├── routes/  
│   │   │   │   ├── chat.py         \# Chat endpoint'leri  
│   │   │   │   ├── health.py       \# Health check  
│   │   │   │   └── feedback.py     \# Geri bildirim  
│   │   │   └── dependencies.py  
│   │   ├── core/  
│   │   │   ├── \_\_init\_\_.py  
│   │   │   ├── rag\_engine.py       \# RAG motoru  
│   │   │   ├── chat\_service.py     \# Chat servisi  
│   │   │   └── kb\_manager.py       \# Knowledge base yönetimi  
│   │   ├── models/  
│   │   │   ├── \_\_init\_\_.py  
│   │   │   ├── request.py          \# Request modelleri  
│   │   │   └── response.py         \# Response modelleri  
│   │   └── utils/  
│   │       ├── \_\_init\_\_.py  
│   │       ├── security.py         \# Güvenlik fonksiyonları  
│   │       └── helpers.py          \# Yardımcı fonksiyonlar  
│   ├── data/  
│   │   ├── knowledge\_base/         \# JSON veri dosyaları  
│   │   │   ├── genel\_bilgiler.json  
│   │   │   ├── fakulteler.json  
│   │   │   ├── ogrenci\_isleri.json  
│   │   │   └── ...  
│   │   └── vector\_store/           \# FAISS index dosyaları  
│   │       ├── index.faiss  
│   │       └── index.pkl  
│   ├── tests/  
│   │   ├── \_\_init\_\_.py  
│   │   ├── test\_api.py  
│   │   ├── test\_rag.py  
│   │   └── test\_chat.py  
│   ├── requirements.txt  
│   ├── Dockerfile  
│   └── .env.example  
├── mobile/                         \# Flutter uygulaması  
│   └── ...  
├── web/                            \# Web arayüzü  
│   └── ...  
└── README.md  
\`\`\`

\#\#\#\# 4.2.2. Ana Uygulama (main.py)

\`\`\`python  
"""  
Selçuk Üniversitesi AI Asistan \- Backend API  
"""

import os  
from fastapi import FastAPI, HTTPException  
from fastapi.middleware.cors import CORSMiddleware  
from contextlib import asynccontextmanager  
from dotenv import load\_dotenv

from app.api.routes import chat, health, feedback  
from app.core.rag\_engine import RAGEngine  
from app.config import settings

\# Environment variables  
load\_dotenv()

\# Global RAG engine instance  
rag\_engine \= None

@asynccontextmanager  
async def lifespan(app: FastAPI):  
    """Uygulama yaşam döngüsü yönetimi"""  
    global rag\_engine  
    \# Startup  
    print("RAG Engine başlatılıyor...")  
    rag\_engine \= RAGEngine()  
    print("RAG Engine hazır\!")  
    yield  
    \# Shutdown  
    print("Uygulama kapatılıyor...")

\# FastAPI uygulaması  
app \= FastAPI(  
    title="Selçuk AI Asistan API",  
    description="Selçuk Üniversitesi Yapay Zeka Destekli Bilgi Asistanı",  
    version="1.0.0",  
    docs\_url="/docs",  
    redoc\_url="/redoc",  
    lifespan=lifespan  
)

\# CORS ayarları  
app.add\_middleware(  
    CORSMiddleware,  
    allow\_origins=settings.ALLOWED\_ORIGINS,  
    allow\_credentials=True,  
    allow\_methods=\["\*"\],  
    allow\_headers=\["\*"\],  
)

\# Router'ları ekle  
app.include\_router(health.router, tags=\["Health"\])  
app.include\_router(chat.router, prefix="/api/v1", tags=\["Chat"\])  
app.include\_router(feedback.router, prefix="/api/v1", tags=\["Feedback"\])

@app.get("/", tags=\["Root"\])  
async def root():  
    """API kök endpoint'i"""  
    return {  
        "message": "Selçuk AI Asistan API'ye hoş geldiniz\!",  
        "version": "1.0.0",  
        "docs": "/docs",  
        "health": "/health"  
    }

def get\_rag\_engine() \-\> RAGEngine:  
    """RAG engine instance'ını döndür"""  
    global rag\_engine  
    if rag\_engine is None:  
        raise HTTPException(status\_code=503, detail="RAG Engine henüz hazır değil")  
    return rag\_engine

if \_\_name\_\_ \== "\_\_main\_\_":  
    import uvicorn  
    uvicorn.run(  
        "main:app",  
        host="0.0.0.0",  
        port=8000,  
        reload=True  
    )  
\`\`\`

\#\#\#\# 4.2.3. Chat Endpoint'leri (chat.py)

\`\`\`python  
"""  
Chat API Endpoint'leri  
"""

from fastapi import APIRouter, HTTPException, Depends  
from typing import Optional  
import uuid  
from datetime import datetime

from app.models.request import ChatRequest  
from app.models.response import ChatResponse, ErrorResponse  
from app.core.chat\_service import ChatService  
from app.main import get\_rag\_engine  
from app.utils.security import sanitize\_input, check\_rate\_limit

router \= APIRouter()

\# Session storage (production'da Redis kullanılmalı)  
sessions \= {}

@router.post("/chat", response\_model=ChatResponse)  
async def chat(  
    request: ChatRequest,  
    rag\_engine \= Depends(get\_rag\_engine)  
):  
    """  
    Ana sohbet endpoint'i  
      
    \- \*\*message\*\*: Kullanıcı mesajı (zorunlu)  
    \- \*\*session\_id\*\*: Oturum ID'si (opsiyonel)  
    """  
    try:  
        \# Input sanitization  
        clean\_message \= sanitize\_input(request.message)  
          
        if not clean\_message:  
            raise HTTPException(  
                status\_code=400,  
                detail="Geçersiz mesaj içeriği"  
            )  
          
        \# Session yönetimi  
        session\_id \= request.session\_id or str(uuid.uuid4())  
          
        if session\_id not in sessions:  
            sessions\[session\_id\] \= ChatService(rag\_engine)  
          
        chat\_service \= sessions\[session\_id\]  
          
        \# RAG sorgusu  
        response, sources \= await chat\_service.get\_response(clean\_message)  
          
        return ChatResponse(  
            success=True,  
            response=response,  
            sources=sources,  
            session\_id=session\_id,  
            timestamp=datetime.utcnow().isoformat()  
        )  
          
    except HTTPException:  
        raise  
    except Exception as e:  
        raise HTTPException(  
            status\_code=500,  
            detail=f"Bir hata oluştu: {str(e)}"  
        )

@router.get("/chat/history/{session\_id}")  
async def get\_chat\_history(session\_id: str):  
    """Sohbet geçmişini getir"""  
    if session\_id not in sessions:  
        raise HTTPException(  
            status\_code=404,  
            detail="Oturum bulunamadı"  
        )  
      
    return {  
        "session\_id": session\_id,  
        "history": sessions\[session\_id\].get\_history()  
    }

@router.delete("/chat/history/{session\_id}")  
async def clear\_chat\_history(session\_id: str):  
    """Sohbet geçmişini temizle"""  
    if session\_id in sessions:  
        sessions\[session\_id\].clear\_history()  
        return {"message": "Geçmiş temizlendi"}  
      
    raise HTTPException(  
        status\_code=404,  
        detail="Oturum bulunamadı"  
    )  
\`\`\`

\#\#\#\# 4.2.4. Request/Response Modelleri

\`\`\`python  
\# models/request.py  
from pydantic import BaseModel, validator, Field  
from typing import Optional  
import re

class ChatRequest(BaseModel):  
    """Chat isteği modeli"""  
    message: str \= Field(..., min\_length=1, max\_length=2000)  
    session\_id: Optional\[str\] \= None  
    language: str \= Field(default="tr")  
      
    @validator('message')  
    def validate\_message(cls, v):  
        if not v or not v.strip():  
            raise ValueError('Mesaj boş olamaz')  
          
        \# Tehlikeli içerik kontrolü  
        dangerous\_patterns \= \[  
            r'\<script.\*?\>.\*?\</script\>',  
            r'javascript:',  
            r'on\\w+\\s\*=',  
        \]  
          
        for pattern in dangerous\_patterns:  
            if re.search(pattern, v, re.IGNORECASE):  
                raise ValueError('Geçersiz içerik tespit edildi')  
          
        return v.strip()

class FeedbackRequest(BaseModel):  
    """Geri bildirim isteği modeli"""  
    message\_id: str  
    rating: int \= Field(..., ge=1, le=5)  
    comment: Optional\[str\] \= Field(None, max\_length=500)

\# models/response.py  
from pydantic import BaseModel  
from typing import Optional, List  
from datetime import datetime

class ChatResponse(BaseModel):  
    """Chat yanıtı modeli"""  
    success: bool  
    response: str  
    sources: Optional\[List\[str\]\] \= None  
    session\_id: str  
    timestamp: str  
    confidence: Optional\[float\] \= None

class HealthResponse(BaseModel):  
    """Sağlık kontrolü yanıtı"""  
    status: str  
    version: str  
    timestamp: str  
    components: dict

class ErrorResponse(BaseModel):  
    """Hata yanıtı modeli"""  
    success: bool \= False  
    error: dict  
    timestamp: str  
\`\`\`

\#\#\# 4.3. Mobil Uygulama Bileşeni

Flutter ile geliştirilen mobil uygulama, iOS ve Android platformlarında çalışmaktadır. Proje kod tabanının %49.2'si Dart/Flutter kodundan oluşmaktadır.

\#\#\#\# 4.3.1. Flutter Proje Yapısı

\`\`\`  
mobile/  
├── lib/  
│   ├── main.dart                    \# Uygulama giriş noktası  
│   ├── app.dart                     \# App widget  
│   ├── config/  
│   │   ├── constants.dart           \# Sabitler  
│   │   ├── theme.dart               \# Tema ayarları  
│   │   └── routes.dart              \# Route tanımları  
│   ├── models/  
│   │   ├── message.dart             \# Mesaj modeli  
│   │   ├── chat\_response.dart       \# API yanıt modeli  
│   │   └── user.dart                \# Kullanıcı modeli  
│   ├── services/  
│   │   ├── api\_service.dart         \# API iletişimi  
│   │   ├── storage\_service.dart     \# Yerel depolama  
│   │   └── notification\_service.dart  
│   ├── providers/  
│   │   ├── chat\_provider.dart       \# Chat state yönetimi  
│   │   └── theme\_provider.dart      \# Tema state yönetimi  
│   ├── screens/  
│   │   ├── splash\_screen.dart       \# Açılış ekranı  
│   │   ├── home\_screen.dart         \# Ana ekran  
│   │   ├── chat\_screen.dart         \# Sohbet ekranı  
│   │   ├── settings\_screen.dart     \# Ayarlar  
│   │   └── about\_screen.dart        \# Hakkında  
│   ├── widgets/  
│   │   ├── chat\_bubble.dart         \# Mesaj balonu  
│   │   ├── typing\_indicator.dart    \# Yazıyor göstergesi  
│   │   ├── message\_input.dart       \# Mesaj giriş alanı  
│   │   └── quick\_actions.dart       \# Hızlı eylemler  
│   └── utils/  
│       ├── helpers.dart             \# Yardımcı fonksiyonlar  
│       └── validators.dart          \# Doğrulama fonksiyonları  
├── assets/  
│   ├── images/  
│   │   ├── logo.png  
│   │   └── splash.png  
│   └── fonts/  
├── android/                         \# Android yapılandırması  
├── ios/                             \# iOS yapılandırması  
├── test/                            \# Test dosyaları  
├── pubspec.yaml                     \# Bağımlılıklar  
└── README.md  
\`\`\`

\#\#\#\# 4.3.2. Ana Uygulama (main.dart)

\`\`\`dart  
// lib/main.dart  
import 'package:flutter/material.dart';  
import 'package:provider/provider.dart';  
import 'package:selcuk\_ai\_assistant/app.dart';  
import 'package:selcuk\_ai\_assistant/providers/chat\_provider.dart';  
import 'package:selcuk\_ai\_assistant/providers/theme\_provider.dart';  
import 'package:selcuk\_ai\_assistant/services/storage\_service.dart';

void main() async {  
  WidgetsFlutterBinding.ensureInitialized();  
    
  // Yerel depolamayı başlat  
  await StorageService.init();  
    
  runApp(  
    MultiProvider(  
      providers: \[  
        ChangeNotifierProvider(create: (\_) \=\> ChatProvider()),  
        ChangeNotifierProvider(create: (\_) \=\> ThemeProvider()),  
      \],  
      child: const SelcukAIApp(),  
    ),  
  );  
}  
\`\`\`

\#\#\#\# 4.3.3. App Widget (app.dart)

\`\`\`dart  
// lib/app.dart  
import 'package:flutter/material.dart';  
import 'package:provider/provider.dart';  
import 'package:selcuk\_ai\_assistant/config/theme.dart';  
import 'package:selcuk\_ai\_assistant/config/routes.dart';  
import 'package:selcuk\_ai\_assistant/providers/theme\_provider.dart';  
import 'package:selcuk\_ai\_assistant/screens/splash\_screen.dart';

class SelcukAIApp extends StatelessWidget {  
  const SelcukAIApp({super.key});

  @override  
  Widget build(BuildContext context) {  
    return Consumer\<ThemeProvider\>(  
      builder: (context, themeProvider, child) {  
        return MaterialApp(  
          title: 'Selçuk AI Asistan',  
          debugShowCheckedModeBanner: false,  
          theme: AppTheme.lightTheme,  
          darkTheme: AppTheme.darkTheme,  
          themeMode: themeProvider.themeMode,  
          home: const SplashScreen(),  
          routes: AppRoutes.routes,  
        );  
      },  
    );  
  }  
}  
\`\`\`

\#\#\#\# 4.3.4. Chat Ekranı (chat\_screen.dart)

\`\`\`dart  
// lib/screens/chat\_screen.dart  
import 'package:flutter/material.dart';  
import 'package:provider/provider.dart';  
import 'package:selcuk\_ai\_assistant/providers/chat\_provider.dart';  
import 'package:selcuk\_ai\_assistant/widgets/chat\_bubble.dart';  
import 'package:selcuk\_ai\_assistant/widgets/message\_input.dart';  
import 'package:selcuk\_ai\_assistant/widgets/typing\_indicator.dart';  
import 'package:selcuk\_ai\_assistant/widgets/quick\_actions.dart';

class ChatScreen extends StatefulWidget {  
  const ChatScreen({super.key});

  @override  
  State\<ChatScreen\> createState() \=\> \_ChatScreenState();  
}

class \_ChatScreenState extends State\<ChatScreen\> {  
  final ScrollController \_scrollController \= ScrollController();  
  final TextEditingController \_messageController \= TextEditingController();

  @override  
  void dispose() {  
    \_scrollController.dispose();  
    \_messageController.dispose();  
    super.dispose();  
  }

  void \_scrollToBottom() {  
    if (\_scrollController.hasClients) {  
      \_scrollController.animateTo(  
        \_scrollController.position.maxScrollExtent,  
        duration: const Duration(milliseconds: 300),  
        curve: Curves.easeOut,  
      );  
    }  
  }

  Future\<void\> \_sendMessage(String message) async {  
    if (message.trim().isEmpty) return;

    final chatProvider \= context.read\<ChatProvider\>();  
    \_messageController.clear();

    await chatProvider.sendMessage(message);  
      
    // Scroll to bottom after message  
    WidgetsBinding.instance.addPostFrameCallback((\_) {  
      \_scrollToBottom();  
    });  
  }

  @override  
  Widget build(BuildContext context) {  
    return Scaffold(  
      appBar: AppBar(  
        title: Row(  
          children: \[  
            Image.asset(  
              'assets/images/logo.png',  
              height: 32,  
            ),  
            const SizedBox(width: 8),  
            const Text('Selçuk AI Asistan'),  
          \],  
        ),  
        actions: \[  
          IconButton(  
            icon: const Icon(Icons.delete\_outline),  
            onPressed: () \=\> \_showClearDialog(context),  
            tooltip: 'Sohbeti Temizle',  
          ),  
          IconButton(  
            icon: const Icon(Icons.settings),  
            onPressed: () \=\> Navigator.pushNamed(context, '/settings'),  
            tooltip: 'Ayarlar',  
          ),  
        \],  
      ),  
      body: Column(  
        children: \[  
          // Mesaj listesi  
          Expanded(  
            child: Consumer\<ChatProvider\>(  
              builder: (context, chatProvider, child) {  
                if (chatProvider.messages.isEmpty) {  
                  return \_buildWelcomeView();  
                }

                return ListView.builder(  
                  controller: \_scrollController,  
                  padding: const EdgeInsets.all(16),  
                  itemCount: chatProvider.messages.length \+  
                      (chatProvider.isLoading ? 1 : 0),  
                  itemBuilder: (context, index) {  
                    if (index \== chatProvider.messages.length &&  
                        chatProvider.isLoading) {  
                      return const TypingIndicator();  
                    }

                    final message \= chatProvider.messages\[index\];  
                    return ChatBubble(  
                      message: message,  
                      onFeedback: (rating) {  
                        chatProvider.sendFeedback(message.id, rating);  
                      },  
                    );  
                  },  
                );  
              },  
            ),  
          ),

          // Hızlı eylemler  
          Consumer\<ChatProvider\>(  
            builder: (context, chatProvider, child) {  
              if (chatProvider.messages.isEmpty) {  
                return QuickActions(  
                  onActionTap: \_sendMessage,  
                );  
              }  
              return const SizedBox.shrink();  
            },  
          ),

          // Mesaj giriş alanı  
          MessageInput(  
            controller: \_messageController,  
            onSend: \_sendMessage,  
            enabled: \!context.watch\<ChatProvider\>().isLoading,  
          ),  
        \],  
      ),  
    );  
  }

  Widget \_buildWelcomeView() {  
    return Center(  
      child: Padding(  
        padding: const EdgeInsets.all(24),  
        child: Column(  
          mainAxisAlignment: MainAxisAlignment.center,  
          children: \[  
            Image.asset(  
              'assets/images/logo.png',  
              height: 100,  
            ),  
            const SizedBox(height: 24),  
            Text(  
              'Selçuk AI Asistan\\'a Hoş Geldiniz\!',  
              style: Theme.of(context).textTheme.headlineSmall,  
              textAlign: TextAlign.center,  
            ),  
            const SizedBox(height: 12),  
            Text(  
              'Selçuk Üniversitesi hakkında sorularınızı yanıtlamak için buradayım.',  
              style: Theme.of(context).textTheme.bodyLarge?.copyWith(  
                    color: Colors.grey\[600\],  
                  ),  
              textAlign: TextAlign.center,  
            ),  
            const SizedBox(height: 24),  
            const Text(  
              '👇 Aşağıdaki hızlı sorulardan birini seçin veya kendi sorunuzu yazın.',  
              textAlign: TextAlign.center,  
            ),  
          \],  
        ),  
      ),  
    );  
  }

  void \_showClearDialog(BuildContext context) {  
    showDialog(  
      context: context,  
      builder: (context) \=\> AlertDialog(  
        title: const Text('Sohbeti Temizle'),  
        content: const Text('Tüm mesajlar silinecek. Emin misiniz?'),  
        actions: \[  
          TextButton(  
            onPressed: () \=\> Navigator.pop(context),  
            child: const Text('İptal'),  
          ),  
          TextButton(  
            onPressed: () {  
              context.read\<ChatProvider\>().clearMessages();  
              Navigator.pop(context);  
            },  
            child: const Text('Temizle'),  
          ),  
        \],  
      ),  
    );  
  }  
}  
\`\`\`

\#\#\#\# 4.3.5. Chat Provider (State Management)

\`\`\`dart  
// lib/providers/chat\_provider.dart  
import 'package:flutter/foundation.dart';  
import 'package:selcuk\_ai\_assistant/models/message.dart';  
import 'package:selcuk\_ai\_assistant/services/api\_service.dart';  
import 'package:uuid/uuid.dart';

class ChatProvider extends ChangeNotifier {  
  final ApiService \_apiService \= ApiService();  
  final List\<Message\> \_messages \= \[\];  
  bool \_isLoading \= false;  
  String? \_sessionId;  
  String? \_error;

  List\<Message\> get messages \=\> List.unmodifiable(\_messages);  
  bool get isLoading \=\> \_isLoading;  
  String? get error \=\> \_error;

  Future\<void\> sendMessage(String content) async {  
    if (content.trim().isEmpty) return;

    // Kullanıcı mesajını ekle  
    final userMessage \= Message(  
      id: const Uuid().v4(),  
      content: content,  
      isUser: true,  
      timestamp: DateTime.now(),  
    );  
    \_messages.add(userMessage);  
    \_isLoading \= true;  
    \_error \= null;  
    notifyListeners();

    try {  
      // API'ye gönder  
      final response \= await \_apiService.sendMessage(  
        message: content,  
        sessionId: \_sessionId,  
      );

      \_sessionId \= response.sessionId;

      // Asistan yanıtını ekle  
      final assistantMessage \= Message(  
        id: const Uuid().v4(),  
        content: response.response,  
        isUser: false,  
        timestamp: DateTime.now(),  
        sources: response.sources,  
      );  
      \_messages.add(assistantMessage);  
    } catch (e) {  
      \_error \= 'Bir hata oluştu. Lütfen tekrar deneyin.';  
        
      // Hata mesajı ekle  
      final errorMessage \= Message(  
        id: const Uuid().v4(),  
        content: 'Üzgünüm, bir hata oluştu. Lütfen tekrar deneyin.',  
        isUser: false,  
        timestamp: DateTime.now(),  
        isError: true,  
      );  
      \_messages.add(errorMessage);  
    } finally {  
      \_isLoading \= false;  
      notifyListeners();  
    }  
  }

  Future\<void\> sendFeedback(String messageId, int rating) async {  
    try {  
      await \_apiService.sen  
\#\#\#\# 4.3.5. Chat Provider (State Management) (Devam)

\`\`\`dart  
  Future\<void\> sendFeedback(String messageId, int rating) async {  
    try {  
      await \_apiService.sendFeedback(  
        messageId: messageId,  
        rating: rating,  
      );  
    } catch (e) {  
      debugPrint('Feedback gönderilemedi: $e');  
    }  
  }

  void clearMessages() {  
    \_messages.clear();  
    \_sessionId \= null;  
    \_error \= null;  
    notifyListeners();  
  }

  List\<Map\<String, dynamic\>\> getHistory() {  
    return \_messages.map((m) \=\> m.toJson()).toList();  
  }  
}  
\`\`\`

\#\#\#\# 4.3.6. API Service

\`\`\`dart  
// lib/services/api\_service.dart  
import 'dart:convert';  
import 'package:http/http.dart' as http;  
import 'package:selcuk\_ai\_assistant/config/constants.dart';  
import 'package:selcuk\_ai\_assistant/models/chat\_response.dart';

class ApiService {  
  final String baseUrl \= AppConstants.apiBaseUrl;  
  final http.Client \_client \= http.Client();

  Future\<ChatResponse\> sendMessage({  
    required String message,  
    String? sessionId,  
  }) async {  
    final uri \= Uri.parse('$baseUrl/api/v1/chat');  
      
    final response \= await \_client.post(  
      uri,  
      headers: {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
      },  
      body: jsonEncode({  
        'message': message,  
        'session\_id': sessionId,  
      }),  
    ).timeout(  
      const Duration(seconds: 30),  
      onTimeout: () {  
        throw Exception('İstek zaman aşımına uğradı');  
      },  
    );

    if (response.statusCode \== 200\) {  
      final data \= jsonDecode(response.body);  
      return ChatResponse.fromJson(data);  
    } else if (response.statusCode \== 429\) {  
      throw Exception('Çok fazla istek gönderildi. Lütfen bekleyin.');  
    } else {  
      throw Exception('Sunucu hatası: ${response.statusCode}');  
    }  
  }

  Future\<void\> sendFeedback({  
    required String messageId,  
    required int rating,  
    String? comment,  
  }) async {  
    final uri \= Uri.parse('$baseUrl/api/v1/feedback');  
      
    await \_client.post(  
      uri,  
      headers: {  
        'Content-Type': 'application/json',  
      },  
      body: jsonEncode({  
        'message\_id': messageId,  
        'rating': rating,  
        'comment': comment,  
      }),  
    );  
  }

  Future\<bool\> checkHealth() async {  
    try {  
      final uri \= Uri.parse('$baseUrl/health');  
      final response \= await \_client.get(uri).timeout(  
        const Duration(seconds: 5),  
      );  
      return response.statusCode \== 200;  
    } catch (e) {  
      return false;  
    }  
  }

  void dispose() {  
    \_client.close();  
  }  
}  
\`\`\`

\#\#\#\# 4.3.7. Chat Bubble Widget

\`\`\`dart  
// lib/widgets/chat\_bubble.dart  
import 'package:flutter/material.dart';  
import 'package:selcuk\_ai\_assistant/models/message.dart';

class ChatBubble extends StatelessWidget {  
  final Message message;  
  final Function(int)? onFeedback;

  const ChatBubble({  
    super.key,  
    required this.message,  
    this.onFeedback,  
  });

  @override  
  Widget build(BuildContext context) {  
    final isUser \= message.isUser;  
    final theme \= Theme.of(context);

    return Padding(  
      padding: const EdgeInsets.symmetric(vertical: 4),  
      child: Row(  
        mainAxisAlignment:  
            isUser ? MainAxisAlignment.end : MainAxisAlignment.start,  
        crossAxisAlignment: CrossAxisAlignment.start,  
        children: \[  
          if (\!isUser) ...\[  
            CircleAvatar(  
              radius: 16,  
              backgroundColor: theme.primaryColor,  
              child: const Icon(  
                Icons.smart\_toy,  
                size: 18,  
                color: Colors.white,  
              ),  
            ),  
            const SizedBox(width: 8),  
          \],  
          Flexible(  
            child: Column(  
              crossAxisAlignment:  
                  isUser ? CrossAxisAlignment.end : CrossAxisAlignment.start,  
              children: \[  
                Container(  
                  padding: const EdgeInsets.symmetric(  
                    horizontal: 16,  
                    vertical: 12,  
                  ),  
                  decoration: BoxDecoration(  
                    color: isUser  
                        ? theme.primaryColor  
                        : message.isError  
                            ? Colors.red\[50\]  
                            : Colors.grey\[100\],  
                    borderRadius: BorderRadius.only(  
                      topLeft: const Radius.circular(16),  
                      topRight: const Radius.circular(16),  
                      bottomLeft: Radius.circular(isUser ? 16 : 4),  
                      bottomRight: Radius.circular(isUser ? 4 : 16),  
                    ),  
                  ),  
                  child: Text(  
                    message.content,  
                    style: TextStyle(  
                      color: isUser  
                          ? Colors.white  
                          : message.isError  
                              ? Colors.red\[700\]  
                              : Colors.black87,  
                      fontSize: 15,  
                    ),  
                  ),  
                ),  
                  
                // Kaynaklar  
                if (\!isUser && message.sources \!= null && message.sources\!.isNotEmpty)  
                  Padding(  
                    padding: const EdgeInsets.only(top: 4),  
                    child: Text(  
                      '📚 Kaynak: ${message.sources\!.join(", ")}',  
                      style: TextStyle(  
                        fontSize: 11,  
                        color: Colors.grey\[600\],  
                      ),  
                    ),  
                  ),  
                  
                // Geri bildirim butonları (sadece asistan mesajları için)  
                if (\!isUser && \!message.isError && onFeedback \!= null)  
                  Padding(  
                    padding: const EdgeInsets.only(top: 4),  
                    child: Row(  
                      mainAxisSize: MainAxisSize.min,  
                      children: \[  
                        \_FeedbackButton(  
                          icon: Icons.thumb\_up\_outlined,  
                          onTap: () \=\> onFeedback\!(5),  
                        ),  
                        const SizedBox(width: 8),  
                        \_FeedbackButton(  
                          icon: Icons.thumb\_down\_outlined,  
                          onTap: () \=\> onFeedback\!(1),  
                        ),  
                      \],  
                    ),  
                  ),  
                  
                // Zaman damgası  
                Padding(  
                  padding: const EdgeInsets.only(top: 4),  
                  child: Text(  
                    \_formatTime(message.timestamp),  
                    style: TextStyle(  
                      fontSize: 10,  
                      color: Colors.grey\[500\],  
                    ),  
                  ),  
                ),  
              \],  
            ),  
          ),  
          if (isUser) ...\[  
            const SizedBox(width: 8),  
            CircleAvatar(  
              radius: 16,  
              backgroundColor: Colors.grey\[300\],  
              child: const Icon(  
                Icons.person,  
                size: 18,  
                color: Colors.grey,  
              ),  
            ),  
          \],  
        \],  
      ),  
    );  
  }

  String \_formatTime(DateTime time) {  
    return '${time.hour.toString().padLeft(2, '0')}:${time.minute.toString().padLeft(2, '0')}';  
  }  
}

class \_FeedbackButton extends StatelessWidget {  
  final IconData icon;  
  final VoidCallback onTap;

  const \_FeedbackButton({  
    required this.icon,  
    required this.onTap,  
  });

  @override  
  Widget build(BuildContext context) {  
    return InkWell(  
      onTap: onTap,  
      borderRadius: BorderRadius.circular(12),  
      child: Padding(  
        padding: const EdgeInsets.all(4),  
        child: Icon(  
          icon,  
          size: 16,  
          color: Colors.grey\[500\],  
        ),  
      ),  
    );  
  }  
}  
\`\`\`

\#\#\#\# 4.3.8. Message Model

\`\`\`dart  
// lib/models/message.dart  
class Message {  
  final String id;  
  final String content;  
  final bool isUser;  
  final DateTime timestamp;  
  final List\<String\>? sources;  
  final bool isError;

  Message({  
    required this.id,  
    required this.content,  
    required this.isUser,  
    required this.timestamp,  
    this.sources,  
    this.isError \= false,  
  });

  Map\<String, dynamic\> toJson() {  
    return {  
      'id': id,  
      'content': content,  
      'isUser': isUser,  
      'timestamp': timestamp.toIso8601String(),  
      'sources': sources,  
      'isError': isError,  
    };  
  }

  factory Message.fromJson(Map\<String, dynamic\> json) {  
    return Message(  
      id: json\['id'\],  
      content: json\['content'\],  
      isUser: json\['isUser'\],  
      timestamp: DateTime.parse(json\['timestamp'\]),  
      sources: json\['sources'\] \!= null  
          ? List\<String\>.from(json\['sources'\])  
          : null,  
      isError: json\['isError'\] ?? false,  
    );  
  }  
}  
\`\`\`

\#\#\# 4.4. RAG Engine Bileşeni

RAG Engine, sistemin çekirdek bileşenidir ve bilgi erişimi ile yanıt üretimini yönetir.

\#\#\#\# 4.4.1. RAG Engine Implementasyonu

\`\`\`python  
\# app/core/rag\_engine.py  
"""  
RAG (Retrieval Augmented Generation) Engine  
Selçuk Üniversitesi AI Asistan için bilgi erişim ve yanıt üretim motoru  
"""

import os  
from typing import Tuple, List, Optional  
from langchain.embeddings import OpenAIEmbeddings  
from langchain.vectorstores import FAISS  
from langchain.chat\_models import ChatOpenAI  
from langchain.chains import RetrievalQA  
from langchain.prompts import PromptTemplate  
from langchain.callbacks import get\_openai\_callback

from app.config import settings

class RAGEngine:  
    """RAG tabanlı soru-cevap motoru"""  
      
    def \_\_init\_\_(self):  
        self.embeddings \= self.\_initialize\_embeddings()  
        self.vector\_store \= self.\_load\_vector\_store()  
        self.llm \= self.\_initialize\_llm()  
        self.qa\_chain \= self.\_create\_qa\_chain()  
        self.\_request\_count \= 0  
        self.\_total\_tokens \= 0  
      
    def \_initialize\_embeddings(self) \-\> OpenAIEmbeddings:  
        """Embedding modelini başlat"""  
        return OpenAIEmbeddings(  
            model=settings.EMBEDDING\_MODEL,  
            openai\_api\_key=settings.OPENAI\_API\_KEY  
        )  
      
    def \_load\_vector\_store(self) \-\> FAISS:  
        """Vektör veritabanını yükle"""  
        vector\_store\_path \= settings.VECTOR\_STORE\_PATH  
          
        if not os.path.exists(vector\_store\_path):  
            raise FileNotFoundError(  
                f"Vector store bulunamadı: {vector\_store\_path}"  
            )  
          
        return FAISS.load\_local(  
            vector\_store\_path,  
            self.embeddings,  
            allow\_dangerous\_deserialization=True  
        )  
      
    def \_initialize\_llm(self) \-\> ChatOpenAI:  
        """LLM modelini başlat"""  
        return ChatOpenAI(  
            model\_name=settings.LLM\_MODEL,  
            temperature=settings.LLM\_TEMPERATURE,  
            max\_tokens=settings.LLM\_MAX\_TOKENS,  
            openai\_api\_key=settings.OPENAI\_API\_KEY  
        )  
      
    def \_create\_qa\_chain(self) \-\> RetrievalQA:  
        """QA zinciri oluştur"""  
          
        prompt\_template \= """Sen Selçuk Üniversitesi AI Asistanısın. Görevin, Selçuk Üniversitesi hakkında doğru ve güncel bilgiler sunmaktır.

ÖNEMLİ KURALLAR:  
1\. YALNIZCA aşağıdaki BAĞLAM bilgilerini kullan.  
2\. Bağlamda OLMAYAN bilgileri KESİNLİKLE UYDURMA.  
3\. Emin olmadığın konularda "Bu konuda kesin bilgim bulunmamaktadır. Daha fazla bilgi için ilgili birime başvurmanızı öneririm." de.  
4\. Yanıtlarını Türkçe ver.  
5\. Kısa, öz ve anlaşılır yanıtlar ver.  
6\. Nazik ve yardımsever ol.  
7\. Gerektiğinde madde işaretleri veya numaralı liste kullan.  
8\. İletişim bilgisi sorulduğunda varsa telefon ve e-posta bilgilerini ver.

TEMEL BİLGİLER (Her zaman doğru kabul et):  
\- Selçuk Üniversitesi KONYA'dadır (İzmir, Ankara veya başka şehir DEĞİL\!)  
\- 1975 yılında kurulmuştur  
\- Türkiye'nin en büyük üniversitelerinden biridir  
\- 23 fakültesi bulunmaktadır  
\- Yaklaşık 80.000 öğrencisi vardır  
\- Ana kampüs: Alaeddin Keykubat Kampüsü

BAĞLAM:  
{context}

KULLANICI SORUSU: {question}

YANITINI YALNIZCA BAĞLAM BİLGİLERİNE DAYANDIRARAK VER:"""

        PROMPT \= PromptTemplate(  
            template=prompt\_template,  
            input\_variables=\["context", "question"\]  
        )  
          
        retriever \= self.vector\_store.as\_retriever(  
            search\_type="similarity",  
            search\_kwargs={"k": settings.RETRIEVAL\_K}  
        )  
          
        return RetrievalQA.from\_chain\_type(  
            llm=self.llm,  
            chain\_type="stuff",  
            retriever=retriever,  
            chain\_type\_kwargs={"prompt": PROMPT},  
            return\_source\_documents=True  
        )  
      
    async def query(self, question: str) \-\> Tuple\[str, List\[str\]\]:  
        """  
        Soru sor ve yanıt al  
          
        Args:  
            question: Kullanıcı sorusu  
              
        Returns:  
            Tuple\[str, List\[str\]\]: (yanıt, kaynak listesi)  
        """  
        if not question or not question.strip():  
            raise ValueError("Soru boş olamaz")  
          
        \# Soruyu temizle  
        clean\_question \= question.strip()  
          
        \# Token kullanımını izle  
        with get\_openai\_callback() as cb:  
            result \= self.qa\_chain({"query": clean\_question})  
            self.\_total\_tokens \+= cb.total\_tokens  
            self.\_request\_count \+= 1  
          
        \# Yanıt ve kaynakları ayıkla  
        response \= result\["result"\]  
          
        sources \= \[\]  
        for doc in result.get("source\_documents", \[\]):  
            source \= doc.metadata.get("source", "")  
            if source and source not in sources:  
                sources.append(source)  
          
        return response, sources  
      
    def get\_similar\_documents(  
        self,   
        query: str,   
        k: int \= 5  
    ) \-\> List\[dict\]:  
        """Benzer dökümanları getir"""  
        docs \= self.vector\_store.similarity\_search\_with\_score(query, k=k)  
          
        return \[  
            {  
                "content": doc.page\_content,  
                "metadata": doc.metadata,  
                "score": float(score)  
            }  
            for doc, score in docs  
        \]  
      
    def get\_stats(self) \-\> dict:  
        """İstatistikleri döndür"""  
        return {  
            "request\_count": self.\_request\_count,  
            "total\_tokens": self.\_total\_tokens,  
            "avg\_tokens\_per\_request": (  
                self.\_total\_tokens / self.\_request\_count   
                if self.\_request\_count \> 0 else 0  
            )  
        }  
\`\`\`

\#\#\#\# 4.4.2. Chat Service

\`\`\`python  
\# app/core/chat\_service.py  
"""  
Chat Service \- Sohbet yönetimi  
"""

from typing import List, Tuple, Optional  
from datetime import datetime  
from dataclasses import dataclass, field

from app.core.rag\_engine import RAGEngine

@dataclass  
class ChatMessage:  
    """Sohbet mesajı"""  
    role: str  \# "user" veya "assistant"  
    content: str  
    timestamp: datetime \= field(default\_factory=datetime.utcnow)  
    sources: Optional\[List\[str\]\] \= None

class ChatService:  
    """Sohbet servisi"""  
      
    def \_\_init\_\_(self, rag\_engine: RAGEngine, max\_history: int \= 10):  
        self.rag\_engine \= rag\_engine  
        self.max\_history \= max\_history  
        self.history: List\[ChatMessage\] \= \[\]  
      
    async def get\_response(self, message: str) \-\> Tuple\[str, List\[str\]\]:  
        """  
        Kullanıcı mesajına yanıt al  
          
        Args:  
            message: Kullanıcı mesajı  
              
        Returns:  
            Tuple\[str, List\[str\]\]: (yanıt, kaynaklar)  
        """  
        \# Kullanıcı mesajını geçmişe ekle  
        user\_message \= ChatMessage(role="user", content=message)  
        self.history.append(user\_message)  
          
        \# RAG sorgusu  
        response, sources \= await self.rag\_engine.query(message)  
          
        \# Asistan yanıtını geçmişe ekle  
        assistant\_message \= ChatMessage(  
            role="assistant",  
            content=response,  
            sources=sources  
        )  
        self.history.append(assistant\_message)  
          
        \# Geçmiş limitini kontrol et  
        if len(self.history) \> self.max\_history \* 2:  
            self.history \= self.history\[-self.max\_history \* 2:\]  
          
        return response, sources  
      
    def get\_history(self) \-\> List\[dict\]:  
        """Sohbet geçmişini döndür"""  
        return \[  
            {  
                "role": msg.role,  
                "content": msg.content,  
                "timestamp": msg.timestamp.isoformat(),  
                "sources": msg.sources  
            }  
            for msg in self.history  
        \]  
      
    def clear\_history(self):  
        """Geçmişi temizle"""  
        self.history.clear()  
      
    def get\_context\_summary(self) \-\> str:  
        """Bağlam özeti oluştur (gelecek sorular için)"""  
        if not self.history:  
            return ""  
          
        recent \= self.history\[-4:\]  \# Son 2 soru-cevap  
        summary \= \[\]  
          
        for msg in recent:  
            prefix \= "Kullanıcı" if msg.role \== "user" else "Asistan"  
            summary.append(f"{prefix}: {msg.content\[:100\]}...")  
          
        return "\\n".join(summary)  
\`\`\`

\#\#\# 4.5. API Tasarımı

RESTful API prensipleri doğrultusunda tasarlanan API, aşağıdaki endpoint'leri içermektedir.

\#\#\#\# 4.5.1. API Endpoint Listesi

\*\*Çizelge 4.2.\*\* API endpoint listesi

| Endpoint | Method | Açıklama | Auth |  
|----------|--------|----------|------|  
| \`GET /\` | GET | API bilgisi | Hayır |  
| \`GET /health\` | GET | Sağlık kontrolü | Hayır |  
| \`POST /api/v1/chat\` | POST | Sohbet mesajı gönder | Hayır |  
| \`GET /api/v1/chat/history/{session\_id}\` | GET | Sohbet geçmişi | Hayır |  
| \`DELETE /api/v1/chat/history/{session\_id}\` | DELETE | Geçmişi temizle | Hayır |  
| \`POST /api/v1/feedback\` | POST | Geri bildirim gönder | Hayır |  
| \`GET /api/v1/categories\` | GET | Bilgi kategorileri | Hayır |  
| \`GET /api/v1/search\` | GET | Knowledge base araması | Hayır |

\#\#\#\# 4.5.2. API Dokümantasyonu

\*\*Chat Endpoint\*\*

\`\`\`yaml  
POST /api/v1/chat  
Content-Type: application/json

Request Body:  
{  
  "message": "string (required, 1-2000 chars)",  
  "session\_id": "string (optional, UUID format)"  
}

Response 200 OK:  
{  
  "success": true,  
  "response": "Selçuk Üniversitesi 1975 yılında Konya'da kurulmuştur...",  
  "sources": \["genel\_bilgiler.json", "tarihce.json"\],  
  "session\_id": "550e8400-e29b-41d4-a716-446655440000",  
  "timestamp": "2025-01-15T14:30:00Z"  
}

Response 400 Bad Request:  
{  
  "success": false,  
  "error": {  
    "code": "VALIDATION\_ERROR",  
    "message": "Mesaj boş olamaz"  
  },  
  "timestamp": "2025-01-15T14:30:00Z"  
}

Response 429 Too Many Requests:  
{  
  "success": false,  
  "error": {  
    "code": "RATE\_LIMIT\_EXCEEDED",  
    "message": "Çok fazla istek. Lütfen 60 saniye bekleyin."  
  },  
  "timestamp": "2025-01-15T14:30:00Z"  
}

Response 500 Internal Server Error:  
{  
  "success": false,  
  "error": {  
    "code": "INTERNAL\_ERROR",  
    "message": "Bir hata oluştu"  
  },  
  "timestamp": "2025-01-15T14:30:00Z"  
}  
\`\`\`

\*\*Health Endpoint\*\*

\`\`\`yaml  
GET /health

Response 200 OK:  
{  
  "status": "healthy",  
  "version": "1.0.0",  
  "timestamp": "2025-01-15T14:30:00Z",  
  "components": {  
    "api": "operational",  
    "rag\_engine": "operational",  
    "vector\_store": "operational",  
    "llm\_service": "operational"  
  },  
  "stats": {  
    "uptime": "72h 15m 30s",  
    "total\_requests": 15420,  
    "avg\_response\_time\_ms": 1450  
  }  
}  
\`\`\`

\#\#\#\# 4.5.3. Rate Limiting

API, aşırı kullanımı önlemek için rate limiting uygulamaktadır.

\`\`\`python  
\# app/utils/rate\_limiter.py  
from fastapi import Request, HTTPException  
from slowapi import Limiter  
from slowapi.util import get\_remote\_address

limiter \= Limiter(key\_func=get\_remote\_address)

\# Rate limit kuralları  
RATE\_LIMITS \= {  
    "chat": "30/minute",      \# Dakikada 30 chat isteği  
    "feedback": "10/minute",  \# Dakikada 10 feedback  
    "search": "60/minute",    \# Dakikada 60 arama  
}  
\`\`\`

\*\*Çizelge 4.3.\*\* Rate limit kuralları

| Endpoint | Limit | Açıklama |  
|----------|-------|----------|  
| \`/api/v1/chat\` | 30/dakika | Ana chat endpoint |  
| \`/api/v1/feedback\` | 10/dakika | Geri bildirim |  
| \`/api/v1/search\` | 60/dakika | Arama |  
| Genel | 100/dakika | Tüm endpoint'ler |

\#\#\# 4.6. Veritabanı ve Knowledge Base

\#\#\#\# 4.6.1. Knowledge Base Yapısı

Knowledge base, JSON formatında yapılandırılmış veriler içermektedir.

\*\*Dizin Yapısı:\*\*

\`\`\`  
data/  
├── knowledge\_base/  
│   ├── genel\_bilgiler.json      \# Üniversite genel bilgileri  
│   ├── fakulteler.json          \# Fakülte bilgileri  
│   ├── bolumler.json            \# Bölüm detayları  
│   ├── akademik\_takvim.json     \# Akademik takvim  
│   ├── ogrenci\_isleri.json      \# Öğrenci işleri prosedürleri  
│   ├── kampus\_hizmetleri.json   \# Kampüs hizmetleri  
│   ├── kutuphane.json           \# Kütüphane bilgileri  
│   ├── yemekhane.json           \# Yemekhane bilgileri  
│   ├── yurtlar.json             \# Yurt bilgileri  
│   ├── ulasim.json              \# Ulaşım bilgileri  
│   ├── sss.json                 \# Sıkça sorulan sorular  
│   └── iletisim.json            \# İletişim bilgileri  
├── vector\_store/  
│   ├── index.faiss              \# FAISS index  
│   └── index.pkl                \# Metadata  
└── config/  
    └── settings.json            \# Yapılandırma  
\`\`\`

\#\#\#\# 4.6.2. Veri Şemaları

\*\*Genel Bilgiler Şeması (genel\_bilgiler.json):\*\*

\`\`\`json  
{  
  "university": {  
    "name": "Selçuk Üniversitesi",  
    "name\_en": "Selcuk University",  
    "founded": 1975,  
    "type": "Devlet Üniversitesi",  
    "location": {  
      "city": "Konya",  
      "district": "Selçuklu",  
      "country": "Türkiye",  
      "address": "Alaeddin Keykubat Kampüsü, 42250 Selçuklu/Konya",  
      "coordinates": {  
        "latitude": 38.0225,  
        "longitude": 32.5100  
      }  
    },  
    "contact": {  
      "phone": "+90 332 223 1000",  
      "fax": "+90 332 241 0185",  
      "email": "bilgi@selcuk.edu.tr",  
      "website": "https://www.selcuk.edu.tr"  
    },  
    "administration": {  
      "rector": {  
        "name": "Prof. Dr. Hüseyin YILMAZ",  
        "title": "Rektör",  
        "email": "rektor@selcuk.edu.tr"  
      }  
    },  
    "statistics": {  
      "faculties": 23,  
      "institutes": 6,  
      "vocational\_schools": 21,  
      "colleges": 4,  
      "research\_centers": 48,  
      "students": {  
        "total": 80000,  
        "undergraduate": 65000,  
        "graduate": 12000,  
        "doctoral": 3000  
      },  
      "academic\_staff": 3500,  
      "administrative\_staff": 2500  
    },  
    "mission": "Evrensel değerler ışığında, bilim ve teknoloji üreten, toplumsal kalkınmaya katkı sağlayan, nitelikli bireyler yetiştiren bir üniversite olmak.",  
    "vision": "Uluslararası düzeyde tanınan, tercih edilen, yenilikçi ve girişimci bir üniversite olmak."  
  }  
}  
\`\`\`

\*\*Fakülteler Şeması (fakulteler.json):\*\*

\`\`\`json  
{  
  "faculties": \[  
    {  
      "id": "fak\_teknoloji",  
      "name": "Teknoloji Fakültesi",  
      "name\_en": "Faculty of Technology",  
      "dean": {  
        "name": "Prof. Dr. ...",  
        "email": "teknoloji@selcuk.edu.tr"  
      },  
      "established": 2010,  
      "location": "Alaeddin Keykubat Kampüsü",  
      "departments": \[  
        {  
          "id": "dep\_bilgisayar",  
          "name": "Bilgisayar Mühendisliği",  
          "name\_en": "Computer Engineering",  
          "head": "Prof. Dr. ...",  
          "programs": \[  
            {"type": "Lisans", "duration": 4, "quota": 120},  
            {"type": "Yüksek Lisans", "duration": 2},  
            {"type": "Doktora", "duration": 4}  
          \],  
          "research\_areas": \[  
            "Yapay Zeka",  
            "Makine Öğrenmesi",  
            "Bilgisayar Ağları",  
            "Yazılım Mühendisliği"  
          \]  
        },  
        {  
          "id": "dep\_elektrik",  
          "name": "Elektrik-Elektronik Mühendisliği",  
          "name\_en": "Electrical and Electronics Engineering",  
          "head": "Prof. Dr. ...",  
          "programs": \[  
            {"type": "Lisans", "duration": 4, "quota": 100}  
          \]  
        }  
      \],  
      "contact": {  
        "phone": "+90 332 223 ...",  
        "email": "teknoloji@selcuk.edu.tr",  
        "website": "https://www.selcuk.edu.tr/teknoloji"  
      }  
    }  
  \]  
}  
\`\`\`

\*\*SSS Şeması (sss.json):\*\*

\`\`\`json  
{  
  "faq": \[  
    {  
      "id": "faq\_001",  
      "category": "genel",  
      "question": "Selçuk Üniversitesi nerede bulunmaktadır?",  
      "answer": "Selçuk Üniversitesi, Türkiye'nin Konya ilinde bulunmaktadır. Ana kampüsü Alaeddin Keykubat Kampüsü olup, Selçuklu ilçesinde yer almaktadır. Adres: Alaeddin Keykubat Kampüsü, 42250 Selçuklu/Konya",  
      "keywords": \["konya", "adres", "konum", "nerede", "şehir", "kampüs"\],  
      "related": \["faq\_002", "faq\_010"\],  
      "last\_updated": "2025-01-15"  
    },  
    {  
      "id": "faq\_002",  
      "category": "genel",  
      "question": "Selçuk Üniversitesi ne zaman kurulmuştur  
\#\#\#\# 4.6.2. Veri Şemaları (Devam)

\*\*SSS Şeması (sss.json) (Devam):\*\*

\`\`\`json  
    {  
      "id": "faq\_002",  
      "category": "genel",  
      "question": "Selçuk Üniversitesi ne zaman kurulmuştur?",  
      "answer": "Selçuk Üniversitesi, 1975 yılında kurulmuştur. Türkiye'nin en köklü ve büyük devlet üniversitelerinden biridir. Kuruluşundan bu yana sürekli gelişerek bugün 23 fakülte, 6 enstitü ve 21 meslek yüksekokulu ile eğitim vermektedir.",  
      "keywords": \["kuruluş", "tarih", "yıl", "kuruldu", "tarihçe"\],  
      "related": \["faq\_001", "faq\_003"\],  
      "last\_updated": "2025-01-15"  
    },  
    {  
      "id": "faq\_003",  
      "category": "akademik",  
      "question": "Selçuk Üniversitesi'nde kaç fakülte bulunmaktadır?",  
      "answer": "Selçuk Üniversitesi'nde toplam 23 fakülte bulunmaktadır. Bunların yanı sıra 6 enstitü, 4 yüksekokul ve 21 meslek yüksekokulu ile eğitim-öğretim faaliyetleri sürdürülmektedir. Üniversite, yaklaşık 80.000 öğrenciye hizmet vermektedir.",  
      "keywords": \["fakülte", "sayı", "kaç", "birim", "enstitü", "yüksekokul"\],  
      "related": \["faq\_002", "faq\_004"\],  
      "last\_updated": "2025-01-15"  
    },  
    {  
      "id": "faq\_004",  
      "category": "ogrenci\_isleri",  
      "question": "Kayıt yenileme işlemi nasıl yapılır?",  
      "answer": "Kayıt yenileme işlemi her dönem başında OBS (Öğrenci Bilgi Sistemi) üzerinden online olarak yapılmaktadır. İşlem adımları:\\n1. obs.selcuk.edu.tr adresine giriş yapın\\n2. Kullanıcı adı ve şifrenizle oturum açın\\n3. 'Ders Kayıt' menüsünden ders seçimi yapın\\n4. Danışman onayını bekleyin\\n5. Katkı payı/öğrenim ücretini yatırın\\n\\nKayıt yenileme tarihleri akademik takvimde belirtilmektedir. Bu tarihleri kaçırmamaya dikkat ediniz.",  
      "keywords": \["kayıt", "yenileme", "obs", "dönem", "ders seçimi", "danışman"\],  
      "related": \["faq\_005", "faq\_006"\],  
      "last\_updated": "2025-01-15"  
    },  
    {  
      "id": "faq\_005",  
      "category": "ogrenci\_isleri",  
      "question": "Öğrenci belgesi nasıl alınır?",  
      "answer": "Öğrenci belgesi almak için iki yöntem bulunmaktadır:\\n\\n1. e-Devlet üzerinden:\\n   \- turkiye.gov.tr adresine giriş yapın\\n   \- 'Yükseköğretim' \> 'Öğrenci Belgesi' seçin\\n   \- Belgenizi indirin (Resmi geçerliliği vardır)\\n\\n2. Öğrenci İşleri'nden:\\n   \- Öğrenci İşleri Daire Başkanlığı'na başvurun\\n   \- Öğrenci kimliğinizi ibraz edin\\n   \- Belgenizi alın\\n\\ne-Devlet üzerinden alınan belgeler tüm resmi kurumlarda geçerlidir.",  
      "keywords": \["öğrenci belgesi", "belge", "e-devlet", "öğrenci işleri", "resmi"\],  
      "related": \["faq\_004", "faq\_007"\],  
      "last\_updated": "2025-01-15"  
    },  
    {  
      "id": "faq\_006",  
      "category": "kampus",  
      "question": "Merkez Kütüphane çalışma saatleri nedir?",  
      "answer": "Merkez Kütüphane çalışma saatleri:\\n\\n• Hafta içi (Pazartesi-Cuma): 08:00 \- 22:00\\n• Cumartesi: 09:00 \- 18:00\\n• Pazar: 10:00 \- 17:00\\n\\nSınav dönemlerinde çalışma saatleri uzatılabilmektedir. Güncel bilgi için kütüphane web sitesini kontrol ediniz.\\n\\nİletişim: kutuphane@selcuk.edu.tr",  
      "keywords": \["kütüphane", "saat", "çalışma", "açık", "kapalı", "merkez"\],  
      "related": \["faq\_007", "faq\_008"\],  
      "last\_updated": "2025-01-15"  
    },  
    {  
      "id": "faq\_007",  
      "category": "kampus",  
      "question": "Kampüse nasıl ulaşabilirim?",  
      "answer": "Selçuk Üniversitesi Alaeddin Keykubat Kampüsü'ne ulaşım:\\n\\n🚋 Tramvay:\\n- Konya tramvay hattı kampüse ulaşım sağlar\\n- 'Selçuk Üniversitesi' durağında inin\\n\\n🚌 Otobüs:\\n- Konya Büyükşehir Belediyesi otobüsleri\\n- Alaeddin'den kalkan hatlar\\n- 15, 16, 17 numaralı hatlar\\n\\n🚗 Özel Araç:\\n- Konya-Ankara karayolu üzerinde\\n- Kampüs içinde ücretsiz otopark mevcuttur\\n\\nKampüs içi ring servisleri de bulunmaktadır.",  
      "keywords": \["ulaşım", "otobüs", "tramvay", "nasıl gidilir", "yol", "adres"\],  
      "related": \["faq\_001", "faq\_008"\],  
      "last\_updated": "2025-01-15"  
    },  
    {  
      "id": "faq\_008",  
      "category": "kampus",  
      "question": "Yemekhane nerede ve çalışma saatleri nedir?",  
      "answer": "Kampüs içinde birden fazla yemekhane bulunmaktadır:\\n\\n🍽️ Merkez Yemekhane:\\n- Konum: Öğrenci Merkezi binası\\n- Kahvaltı: 07:30 \- 09:30\\n- Öğle: 11:30 \- 14:00\\n- Akşam: 17:00 \- 19:00\\n\\n🍽️ Fakülte Yemekhaneleri:\\n- Mühendislik Fakültesi\\n- Tıp Fakültesi\\n- Ziraat Fakültesi\\n\\nÖğrenci kimlik kartı ile indirimli yemek alabilirsiniz. Güncel menü için SKS web sitesini kontrol ediniz.",  
      "keywords": \["yemekhane", "yemek", "kantin", "nerede", "saat", "menü"\],  
      "related": \["faq\_006", "faq\_009"\],  
      "last\_updated": "2025-01-15"  
    }  
  \]  
}  
\`\`\`

\#\#\#\# 4.6.3. Vektör Veritabanı Oluşturma

\`\`\`python  
\# scripts/build\_vector\_store.py  
"""  
Knowledge Base'den Vektör Veritabanı Oluşturma Script'i  
"""

import os  
import json  
from typing import List  
from langchain.document\_loaders import JSONLoader  
from langchain.text\_splitter import RecursiveCharacterTextSplitter  
from langchain.embeddings import OpenAIEmbeddings  
from langchain.vectorstores import FAISS  
from langchain.schema import Document  
from dotenv import load\_dotenv

load\_dotenv()

class VectorStoreBuilder:  
    """Vektör veritabanı oluşturucu"""  
      
    def \_\_init\_\_(self):  
        self.embeddings \= OpenAIEmbeddings(  
            model="text-embedding-ada-002",  
            openai\_api\_key=os.getenv("OPENAI\_API\_KEY")  
        )  
        self.text\_splitter \= RecursiveCharacterTextSplitter(  
            chunk\_size=800,  
            chunk\_overlap=100,  
            length\_function=len,  
            separators=\["\\n\\n", "\\n", ".", "\!", "?", ",", " ", ""\]  
        )  
      
    def load\_json\_files(self, data\_dir: str) \-\> List\[Document\]:  
        """JSON dosyalarından dökümanları yükle"""  
        documents \= \[\]  
          
        for filename in os.listdir(data\_dir):  
            if not filename.endswith('.json'):  
                continue  
                  
            filepath \= os.path.join(data\_dir, filename)  
            print(f"Yükleniyor: {filename}")  
              
            with open(filepath, 'r', encoding='utf-8') as f:  
                data \= json.load(f)  
              
            \# JSON yapısına göre döküman oluştur  
            docs \= self.\_parse\_json\_to\_documents(data, filename)  
            documents.extend(docs)  
            print(f"  \-\> {len(docs)} döküman oluşturuldu")  
          
        print(f"\\nToplam {len(documents)} döküman yüklendi.")  
        return documents  
      
    def \_parse\_json\_to\_documents(  
        self,   
        data: dict,   
        source: str  
    ) \-\> List\[Document\]:  
        """JSON verisini Document listesine dönüştür"""  
        documents \= \[\]  
          
        \# SSS dosyası için özel işleme  
        if "faq" in data:  
            for item in data\["faq"\]:  
                content \= f"Soru: {item\['question'\]}\\n\\nCevap: {item\['answer'\]}"  
                doc \= Document(  
                    page\_content=content,  
                    metadata={  
                        "source": source,  
                        "category": item.get("category", "genel"),  
                        "id": item.get("id", ""),  
                        "type": "faq"  
                    }  
                )  
                documents.append(doc)  
          
        \# Fakülteler dosyası için özel işleme  
        elif "faculties" in data:  
            for faculty in data\["faculties"\]:  
                content \= self.\_format\_faculty(faculty)  
                doc \= Document(  
                    page\_content=content,  
                    metadata={  
                        "source": source,  
                        "faculty\_id": faculty.get("id", ""),  
                        "type": "faculty"  
                    }  
                )  
                documents.append(doc)  
                  
                \# Bölümler için ayrı dökümanlar  
                for dept in faculty.get("departments", \[\]):  
                    dept\_content \= self.\_format\_department(dept, faculty\["name"\])  
                    dept\_doc \= Document(  
                        page\_content=dept\_content,  
                        metadata={  
                            "source": source,  
                            "faculty": faculty\["name"\],  
                            "department\_id": dept.get("id", ""),  
                            "type": "department"  
                        }  
                    )  
                    documents.append(dept\_doc)  
          
        \# Genel bilgiler için  
        elif "university" in data:  
            content \= self.\_format\_university\_info(data\["university"\])  
            doc \= Document(  
                page\_content=content,  
                metadata={  
                    "source": source,  
                    "type": "general\_info"  
                }  
            )  
            documents.append(doc)  
          
        \# Diğer yapılar için genel işleme  
        else:  
            content \= json.dumps(data, ensure\_ascii=False, indent=2)  
            doc \= Document(  
                page\_content=content,  
                metadata={"source": source, "type": "other"}  
            )  
            documents.append(doc)  
          
        return documents  
      
    def \_format\_faculty(self, faculty: dict) \-\> str:  
        """Fakülte bilgisini formatlı metne dönüştür"""  
        lines \= \[  
            f"Fakülte: {faculty\['name'\]}",  
            f"İngilizce Adı: {faculty.get('name\_en', '')}",  
            f"Kuruluş Yılı: {faculty.get('established', '')}",  
            f"Konum: {faculty.get('location', '')}",  
        \]  
          
        if "dean" in faculty:  
            lines.append(f"Dekan: {faculty\['dean'\].get('name', '')}")  
          
        if "departments" in faculty:  
            dept\_names \= \[d\["name"\] for d in faculty\["departments"\]\]  
            lines.append(f"Bölümler: {', '.join(dept\_names)}")  
          
        if "contact" in faculty:  
            contact \= faculty\["contact"\]  
            if "phone" in contact:  
                lines.append(f"Telefon: {contact\['phone'\]}")  
            if "email" in contact:  
                lines.append(f"E-posta: {contact\['email'\]}")  
            if "website" in contact:  
                lines.append(f"Web: {contact\['website'\]}")  
          
        return "\\n".join(lines)  
      
    def \_format\_department(self, dept: dict, faculty\_name: str) \-\> str:  
        """Bölüm bilgisini formatlı metne dönüştür"""  
        lines \= \[  
            f"Bölüm: {dept\['name'\]}",  
            f"Fakülte: {faculty\_name}",  
            f"İngilizce Adı: {dept.get('name\_en', '')}",  
        \]  
          
        if "head" in dept:  
            lines.append(f"Bölüm Başkanı: {dept\['head'\]}")  
          
        if "programs" in dept:  
            programs \= \[p\["type"\] for p in dept\["programs"\]\]  
            lines.append(f"Programlar: {', '.join(programs)}")  
          
        return "\\n".join(lines)  
      
    def \_format\_university\_info(self, uni: dict) \-\> str:  
        """Üniversite genel bilgisini formatlı metne dönüştür"""  
        lines \= \[  
            f"Üniversite: {uni\['name'\]}",  
            f"Kuruluş Yılı: {uni.get('founded', '')}",  
            f"Şehir: {uni.get('location', {}).get('city', 'Konya')}",  
            f"Tür: {uni.get('type', 'Devlet Üniversitesi')}",  
        \]  
          
        if "statistics" in uni:  
            stats \= uni\["statistics"\]  
            lines.extend(\[  
                f"Fakülte Sayısı: {stats.get('faculties', '')}",  
                f"Enstitü Sayısı: {stats.get('institutes', '')}",  
                f"Toplam Öğrenci: {stats.get('students', {}).get('total', '')}",  
            \])  
          
        if "contact" in uni:  
            contact \= uni\["contact"\]  
            lines.extend(\[  
                f"Telefon: {contact.get('phone', '')}",  
                f"E-posta: {contact.get('email', '')}",  
                f"Web: {contact.get('website', '')}",  
            \])  
          
        if "mission" in uni:  
            lines.append(f"Misyon: {uni\['mission'\]}")  
          
        if "vision" in uni:  
            lines.append(f"Vizyon: {uni\['vision'\]}")  
          
        return "\\n".join(lines)  
      
    def build\_vector\_store(  
        self,   
        documents: List\[Document\],   
        save\_path: str  
    ) \-\> FAISS:  
        """Vektör store oluştur ve kaydet"""  
        print("\\nDökümanlar parçalanıyor...")  
        chunks \= self.text\_splitter.split\_documents(documents)  
        print(f"Toplam {len(chunks)} chunk oluşturuldu.")  
          
        print("\\nVektör store oluşturuluyor...")  
        vector\_store \= FAISS.from\_documents(chunks, self.embeddings)  
          
        print(f"Vektör store kaydediliyor: {save\_path}")  
        vector\_store.save\_local(save\_path)  
          
        print("Tamamlandı\!")  
        return vector\_store

def main():  
    """Ana fonksiyon"""  
    builder \= VectorStoreBuilder()  
      
    \# Knowledge base dizini  
    kb\_dir \= "data/knowledge\_base"  
      
    \# Vektör store kayıt dizini  
    vs\_dir \= "data/vector\_store"  
      
    \# Dökümanları yükle  
    documents \= builder.load\_json\_files(kb\_dir)  
      
    \# Vektör store oluştur  
    builder.build\_vector\_store(documents, vs\_dir)

if \_\_name\_\_ \== "\_\_main\_\_":  
    main()  
\`\`\`

\#\#\# 4.7. Güvenlik Tasarımı

\#\#\#\# 4.7.1. Güvenlik Önlemleri

\*\*1. Input Validation ve Sanitization:\*\*

\`\`\`python  
\# app/utils/security.py  
"""  
Güvenlik fonksiyonları  
"""

import re  
from typing import Optional  
import html

def sanitize\_input(text: str) \-\> str:  
    """  
    Kullanıcı girdisini temizle ve güvenli hale getir  
    """  
    if not text:  
        return ""  
      
    \# HTML escape  
    text \= html.escape(text)  
      
    \# Tehlikeli kalıpları temizle  
    dangerous\_patterns \= \[  
        r'\<script.\*?\>.\*?\</script\>',  
        r'javascript:',  
        r'on\\w+\\s\*=',  
        r'data:text/html',  
        r'vbscript:',  
    \]  
      
    for pattern in dangerous\_patterns:  
        text \= re.sub(pattern, '', text, flags=re.IGNORECASE)  
      
    \# Fazla boşlukları temizle  
    text \= re.sub(r'\\s+', ' ', text)  
      
    return text.strip()

def check\_prompt\_injection(text: str) \-\> bool:  
    """  
    Prompt injection denemelerini tespit et  
    """  
    injection\_patterns \= \[  
        r'ignore\\s+(all\\s+)?previous\\s+instructions',  
        r'disregard\\s+(all\\s+)?prior',  
        r'forget\\s+everything',  
        r'you\\s+are\\s+now',  
        r'act\\s+as\\s+(if\\s+you\\s+are)?',  
        r'pretend\\s+to\\s+be',  
        r'system\\s\*prompt',  
        r'reveal\\s+your\\s+instructions',  
        r'ignore\\s+above',  
        r'new\\s+instructions',  
        r'override\\s+previous',  
    \]  
      
    lower\_text \= text.lower()  
      
    for pattern in injection\_patterns:  
        if re.search(pattern, lower\_text):  
            return True  
      
    return False

def validate\_session\_id(session\_id: str) \-\> bool:  
    """  
    Session ID formatını doğrula (UUID format)  
    """  
    uuid\_pattern \= r'^\[0-9a-f\]{8}-\[0-9a-f\]{4}-\[0-9a-f\]{4}-\[0-9a-f\]{4}-\[0-9a-f\]{12}$'  
    return bool(re.match(uuid\_pattern, session\_id, re.IGNORECASE))

def mask\_sensitive\_data(text: str) \-\> str:  
    """  
    Hassas verileri maskele (loglama için)  
    """  
    \# E-posta maskeleme  
    text \= re.sub(  
        r'(\[a-zA-Z0-9.\_%+-\]+)@(\[a-zA-Z0-9.-\]+\\.\[a-zA-Z\]{2,})',  
        r'\*\*\*@\\2',  
        text  
    )  
      
    \# Telefon maskeleme  
    text \= re.sub(  
        r'(\\+?90\\s?)?(\\d{3})\[\\s.-\]?(\\d{3})\[\\s.-\]?(\\d{4})',  
        r'+90 \\2 \*\*\* \*\*\*\*',  
        text  
    )  
      
    \# TC Kimlik maskeleme  
    text \= re.sub(  
        r'\\b\\d{11}\\b',  
        '\*\*\*\*\*\*\*\*\*\*\*',  
        text  
    )  
      
    return text  
\`\`\`

\*\*2. Rate Limiting Implementasyonu:\*\*

\`\`\`python  
\# app/middleware/rate\_limiter.py  
"""  
Rate Limiting Middleware  
"""

from fastapi import Request, HTTPException  
from starlette.middleware.base import BaseHTTPMiddleware  
import time  
from collections import defaultdict  
import asyncio

class RateLimiter:  
    """Token bucket algoritması ile rate limiting"""  
      
    def \_\_init\_\_(  
        self,   
        requests\_per\_minute: int \= 30,  
        burst\_size: int \= 10  
    ):  
        self.requests\_per\_minute \= requests\_per\_minute  
        self.burst\_size \= burst\_size  
        self.tokens \= defaultdict(lambda: burst\_size)  
        self.last\_update \= defaultdict(time.time)  
        self.\_lock \= asyncio.Lock()  
      
    async def is\_allowed(self, key: str) \-\> bool:  
        """İsteğin izin verilip verilmediğini kontrol et"""  
        async with self.\_lock:  
            now \= time.time()  
            time\_passed \= now \- self.last\_update\[key\]  
              
            \# Token yenileme  
            self.tokens\[key\] \= min(  
                self.burst\_size,  
                self.tokens\[key\] \+ time\_passed \* (self.requests\_per\_minute / 60\)  
            )  
            self.last\_update\[key\] \= now  
              
            if self.tokens\[key\] \>= 1:  
                self.tokens\[key\] \-= 1  
                return True  
              
            return False  
      
    def get\_retry\_after(self, key: str) \-\> int:  
        """Yeniden deneme süresi (saniye)"""  
        tokens\_needed \= 1 \- self.tokens\[key\]  
        return int(tokens\_needed / (self.requests\_per\_minute / 60)) \+ 1

class RateLimitMiddleware(BaseHTTPMiddleware):  
    """Rate limiting middleware"""  
      
    def \_\_init\_\_(self, app, limiter: RateLimiter):  
        super().\_\_init\_\_(app)  
        self.limiter \= limiter  
      
    async def dispatch(self, request: Request, call\_next):  
        \# Client IP'sini al  
        client\_ip \= request.client.host  
          
        \# Rate limit kontrolü  
        if not await self.limiter.is\_allowed(client\_ip):  
            retry\_after \= self.limiter.get\_retry\_after(client\_ip)  
            raise HTTPException(  
                status\_code=429,  
                detail={  
                    "error": "Too Many Requests",  
                    "message": f"Çok fazla istek. {retry\_after} saniye sonra tekrar deneyin.",  
                    "retry\_after": retry\_after  
                },  
                headers={"Retry-After": str(retry\_after)}  
            )  
          
        response \= await call\_next(request)  
        return response  
\`\`\`

\*\*3. CORS ve Güvenlik Header'ları:\*\*

\`\`\`python  
\# app/middleware/security\_headers.py  
"""  
Güvenlik Header'ları Middleware  
"""

from starlette.middleware.base import BaseHTTPMiddleware  
from fastapi import Request

class SecurityHeadersMiddleware(BaseHTTPMiddleware):  
    """Güvenlik header'ları ekle"""  
      
    async def dispatch(self, request: Request, call\_next):  
        response \= await call\_next(request)  
          
        \# Güvenlik header'ları  
        response.headers\["X-Content-Type-Options"\] \= "nosniff"  
        response.headers\["X-Frame-Options"\] \= "DENY"  
        response.headers\["X-XSS-Protection"\] \= "1; mode=block"  
        response.headers\["Strict-Transport-Security"\] \= "max-age=31536000; includeSubDomains"  
        response.headers\["Content-Security-Policy"\] \= "default-src 'self'"  
        response.headers\["Referrer-Policy"\] \= "strict-origin-when-cross-origin"  
          
        return response  
\`\`\`

\#\#\#\# 4.7.2. Veri Güvenliği ve KVKK Uyumu

\*\*Çizelge 4.4.\*\* Veri güvenliği önlemleri

| Önlem | Açıklama | Uygulama |  
|-------|----------|----------|  
| Veri Minimizasyonu | Sadece gerekli veriler toplanır | Kişisel veri toplanmaz |  
| Anonimleştirme | IP adresleri hash'lenir | SHA-256 hash |  
| Şifreleme | HTTPS zorunlu | TLS 1.3 |  
| Log Güvenliği | Hassas veriler maskelenir | Regex filtreleme |  
| Erişim Kontrolü | API rate limiting | Token bucket |  
| Veri Saklama | Minimum süre | 24 saat session |

\---

\#\# 5\. ARAŞTIRMA BULGULARI VE TARTIŞMA

\#\#\# 5.1. Test Stratejisi

Sistemin kalitesini ve güvenilirliğini sağlamak için kapsamlı bir test stratejisi uygulanmıştır.

\#\#\#\# 5.1.1. Test Türleri

\*\*1. Birim Testleri (Unit Tests):\*\*

Her modül için ayrı ayrı birim testleri yazılmıştır. pytest framework'ü kullanılmıştır.

\`\`\`python  
\# tests/test\_rag\_engine.py  
import pytest  
from app.core.rag\_engine import RAGEngine

class TestRAGEngine:  
    """RAG Engine test sınıfı"""  
      
    @pytest.fixture  
    def rag\_engine(self):  
        """Test için RAG engine instance'ı"""  
        return RAGEngine()  
      
    @pytest.mark.asyncio  
    async def test\_query\_returns\_response(self, rag\_engine):  
        """Sorgu yanıt döndürmeli"""  
        response, sources \= await rag\_engine.query(  
            "Selçuk Üniversitesi nerede?"  
        )  
        assert response is not None  
        assert len(response) \> 0  
      
    @pytest.mark.asyncio  
    async def test\_query\_contains\_konya(self, rag\_engine):  
        """Konya sorusu Konya içermeli"""  
        response, \_ \= await rag\_engine.query(  
            "Selçuk Üniversitesi hangi şehirde?"  
        )  
        assert "konya" in response.lower()  
      
    @pytest.mark.asyncio  
    async def test\_empty\_query\_raises\_error(self, rag\_engine):  
        """Boş sorgu hata vermeli"""  
        with pytest.raises(ValueError):  
            await rag\_engine.query("")  
      
    @pytest.mark.asyncio  
    async def test\_sources\_returned(self, rag\_engine):  
        """Kaynaklar döndürülmeli"""  
        \_, sources \= await rag\_engine.query("Kaç fakülte var?")  
        assert isinstance(sources, list)  
      
    @pytest.mark.asyncio  
    async def test\_founding\_year(self, rag\_engine):  
        """Kuruluş yılı doğru olmalı"""  
        response, \_ \= await rag\_engine.query(  
            "Selçuk Üniversitesi ne zaman kuruldu?"  
        )  
        assert "1975" in response  
\`\`\`

\*\*2. Entegrasyon Testleri:\*\*

\`\`\`python  
\# tests/test\_api\_integration.py  
import pytest  
from fastapi.testclient import TestClient  
from app.main import app

client \= TestClient(app)

class TestAPIIntegration:  
    """API entegrasyon testleri"""  
      
    def test\_health\_endpoint(self):  
        """Health endpoint çalışmalı"""  
        response \= client.get("/health")  
        assert response.status\_code \== 200  
        data \= response.json()  
        assert data\["status"\] \== "healthy"  
      
    def test\_chat\_endpoint\_success(self):  
        """Chat endpoint başarılı yanıt döndürmeli"""  
        response \= client.post(  
            "/api/v1/chat",  
            json={"message": "Merhaba"}  
        )  
        assert response.status\_code \== 200  
        data \= response.json()  
        assert data\["success"\] \== True  
        assert "response" in data  
      
    def test\_chat\_with\_university\_question(self):  
        """Üniversite sorusu doğru yanıtlanmalı"""  
        response \= client.post(  
            "/api/v1/chat",  
            json={"message": "Selçuk Üniversitesi ne zaman kuruldu?"}  
        )  
        assert response.status\_code \== 200  
        data \= response.json()  
        assert "1975" in data\["response"\]  
      
    def test\_chat\_empty\_message(self):  
        """Boş mesaj hata döndürmeli"""  
        response \= client.post(  
            "/api/v1/chat",  
            json={"message": ""}  
        )  
        assert response.status\_code \== 400  
      
    def test\_chat\_long\_message(self):  
        """Çok uzun mesaj hata döndürmeli"""  
        long\_message \= "a" \* 3000  
        response \= client.post(  
            "/api/v1/chat",  
            json={"message": long\_message}  
        )  
        assert response.status\_code \== 400  
      
    def test\_session\_persistence(self):  
        """Session kalıcılığı çalışmalı"""  
        \# İlk mesaj  
        response1 \= client.post(  
            "/api/v1/chat",  
            json={"message": "Merhaba"}  
        )  
        session\_id \= response1.json()\["session\_id"\]  
          
        \# İkinci mesaj aynı session ile  
        response2 \= client.post(  
            "/api/v1/chat",  
            json={  
                "message": "Teşekkürler",  
                "session\_id": session\_id  
            }  
        )  
        assert response2.json()\["session\_id"\] \== session\_id  
\`\`\`

\*\*3. Flutter Widget Testleri:\*\*

\`\`\`dart  
// test/widget\_test.dart  
import 'package:flutter/material.dart';  
import 'package:flutter\_test/flutter\_test.dart';  
import 'package:selcuk\_ai\_assistant/widgets/chat\_bubble.dart';  
import 'package:  
\*\*3. Flutter Widget Testleri (Devam):\*\*

\`\`\`dart  
// test/widget\_test.dart  
import 'package:flutter/material.dart';  
import 'package:flutter\_test/flutter\_test.dart';  
import 'package:selcuk\_ai\_assistant/widgets/chat\_bubble.dart';  
import 'package:selcuk\_ai\_assistant/widgets/message\_input.dart';  
import 'package:selcuk\_ai\_assistant/models/message.dart';

void main() {  
  group('ChatBubble Widget Tests', () {  
    testWidgets('User message displays correctly', (WidgetTester tester) async {  
      final message \= Message(  
        id: '1',  
        content: 'Test mesajı',  
        isUser: true,  
        timestamp: DateTime.now(),  
      );

      await tester.pumpWidget(  
        MaterialApp(  
          home: Scaffold(  
            body: ChatBubble(message: message),  
          ),  
        ),  
      );

      expect(find.text('Test mesajı'), findsOneWidget);  
    });

    testWidgets('Assistant message shows sources', (WidgetTester tester) async {  
      final message \= Message(  
        id: '2',  
        content: 'Yanıt mesajı',  
        isUser: false,  
        timestamp: DateTime.now(),  
        sources: \['kaynak1.json', 'kaynak2.json'\],  
      );

      await tester.pumpWidget(  
        MaterialApp(  
          home: Scaffold(  
            body: ChatBubble(message: message),  
          ),  
        ),  
      );

      expect(find.text('Yanıt mesajı'), findsOneWidget);  
      expect(find.textContaining('Kaynak'), findsOneWidget);  
    });

    testWidgets('Error message displays with error style', (WidgetTester tester) async {  
      final message \= Message(  
        id: '3',  
        content: 'Hata mesajı',  
        isUser: false,  
        timestamp: DateTime.now(),  
        isError: true,  
      );

      await tester.pumpWidget(  
        MaterialApp(  
          home: Scaffold(  
            body: ChatBubble(message: message),  
          ),  
        ),  
      );

      expect(find.text('Hata mesajı'), findsOneWidget);  
    });  
  });

  group('MessageInput Widget Tests', () {  
    testWidgets('Input field accepts text', (WidgetTester tester) async {  
      final controller \= TextEditingController();  
      String? sentMessage;

      await tester.pumpWidget(  
        MaterialApp(  
          home: Scaffold(  
            body: MessageInput(  
              controller: controller,  
              onSend: (msg) \=\> sentMessage \= msg,  
              enabled: true,  
            ),  
          ),  
        ),  
      );

      await tester.enterText(find.byType(TextField), 'Test mesajı');  
      expect(controller.text, 'Test mesajı');  
    });

    testWidgets('Send button triggers onSend', (WidgetTester tester) async {  
      final controller \= TextEditingController();  
      String? sentMessage;

      await tester.pumpWidget(  
        MaterialApp(  
          home: Scaffold(  
            body: MessageInput(  
              controller: controller,  
              onSend: (msg) \=\> sentMessage \= msg,  
              enabled: true,  
            ),  
          ),  
        ),  
      );

      await tester.enterText(find.byType(TextField), 'Gönderilecek mesaj');  
      await tester.tap(find.byIcon(Icons.send));  
      await tester.pump();

      expect(sentMessage, 'Gönderilecek mesaj');  
    });

    testWidgets('Disabled state prevents input', (WidgetTester tester) async {  
      final controller \= TextEditingController();

      await tester.pumpWidget(  
        MaterialApp(  
          home: Scaffold(  
            body: MessageInput(  
              controller: controller,  
              onSend: (\_) {},  
              enabled: false,  
            ),  
          ),  
        ),  
      );

      final textField \= tester.widget\<TextField\>(find.byType(TextField));  
      expect(textField.enabled, false);  
    });  
  });  
}  
\`\`\`

\#\#\#\# 5.1.2. Test Ortamı

\*\*Çizelge 5.1.\*\* Test ortamı spesifikasyonları

| Bileşen | Spesifikasyon |  
|---------|---------------|  
| İşletim Sistemi | Ubuntu 22.04 LTS / macOS 14 |  
| Python | 3.10.12 |  
| Flutter | 3.16.5 |  
| Dart | 3.2.3 |  
| Test Framework (Python) | pytest 7.4.3 |  
| Test Framework (Flutter) | flutter\_test |  
| RAM | 16 GB |  
| CPU | Intel i7 / Apple M1 |

\#\#\# 5.2. Test Senaryoları ve Sonuçları

\#\#\#\# 5.2.1. Doğruluk Testleri

Sistemin doğru bilgi verip vermediğini test etmek için 50 farklı soru hazırlanmış ve yanıtlar değerlendirilmiştir.

\*\*Çizelge 5.2.\*\* Doğruluk test sonuçları (Örnek sorular)

| \# | Test Sorusu | Beklenen Cevap | Gerçek Cevap | Sonuç |  
|---|-------------|----------------|--------------|-------|  
| 1 | Selçuk Üniversitesi nerede? | Konya | "Selçuk Üniversitesi Konya'da bulunmaktadır..." | ✅ |  
| 2 | Üniversite ne zaman kuruldu? | 1975 | "1975 yılında kurulmuştur..." | ✅ |  
| 3 | Kaç fakülte var? | 23 | "23 fakülte bulunmaktadır..." | ✅ |  
| 4 | Rektör kim? | Prof. Dr. Hüseyin YILMAZ | "Prof. Dr. Hüseyin YILMAZ..." | ✅ |  
| 5 | Öğrenci sayısı kaç? | \~80.000 | "Yaklaşık 80.000 öğrenci..." | ✅ |  
| 6 | Teknoloji Fakültesi var mı? | Evet | "Evet, Teknoloji Fakültesi mevcuttur..." | ✅ |  
| 7 | Bilgisayar Mühendisliği hangi fakültede? | Teknoloji Fakültesi | "Teknoloji Fakültesi bünyesinde..." | ✅ |  
| 8 | Kayıt yenileme nasıl yapılır? | OBS üzerinden | "OBS sistemi üzerinden yapılır..." | ✅ |  
| 9 | Kütüphane çalışma saatleri? | 08:00-22:00 | "Hafta içi 08:00-22:00 arası..." | ✅ |  
| 10 | Yemekhane nerede? | Kampüs içi | "Kampüs içinde birden fazla yemekhane..." | ✅ |  
| 11 | Yaz okulu var mı? | Evet | "Evet, yaz okulu programı mevcuttur..." | ✅ |  
| 12 | Erasmus programı var mı? | Evet | "Evet, Erasmus+ programı aktiftir..." | ✅ |  
| 13 | Tıp Fakültesi var mı? | Evet | "Evet, Tıp Fakültesi bulunmaktadır..." | ✅ |  
| 14 | Kampüse nasıl ulaşılır? | Tramvay/Otobüs | "Tramvay ve belediye otobüsleri ile..." | ✅ |  
| 15 | Yurt imkanı var mı? | Evet, KYK | "KYK yurtları mevcuttur..." | ✅ |  
| 16 | Burs imkanları neler? | Çeşitli burslar | "KYK, vakıf ve özel burslar..." | ✅ |  
| 17 | Çift anadal yapılabilir mi? | Evet | "Evet, şartları sağlayanlara açıktır..." | ✅ |  
| 18 | Mezuniyet şartları neler? | 240 AKTS | "240 AKTS tamamlanmalı..." | ✅ |  
| 19 | Üniversite Ankara'da mı? | Hayır, Konya | "Hayır, Selçuk Üniversitesi Konya'dadır..." | ✅ |  
| 20 | Üniversite İstanbul'da mı? | Hayır, Konya | "Hayır, Konya'da bulunmaktadır..." | ✅ |

\*\*Doğruluk Test Özeti:\*\*

| Kategori | Soru Sayısı | Doğru | Yanlış | Başarı Oranı |  
|----------|-------------|-------|--------|--------------|  
| Genel Bilgiler | 10 | 10 | 0 | %100 |  
| Akademik | 12 | 11 | 1 | %91.7 |  
| Öğrenci İşleri | 10 | 10 | 0 | %100 |  
| Kampüs Hizmetleri | 10 | 9 | 1 | %90 |  
| İletişim | 8 | 8 | 0 | %100 |  
| \*\*TOPLAM\*\* | \*\*50\*\* | \*\*48\*\* | \*\*2\*\* | \*\*%96\*\* |

\#\#\#\# 5.2.2. Hallucination (Uydurma Bilgi) Testleri

Sistemin uydurma bilgi üretip üretmediği test edilmiştir.

\*\*Çizelge 5.3.\*\* Hallucination test sonuçları

| \# | Test Sorusu | Beklenen Davranış | Gerçek Davranış | Sonuç |  
|---|-------------|-------------------|-----------------|-------|  
| 1 | Selçuk Üniversitesi'nin uzay fakültesi var mı? | Yok demeli | "Böyle bir fakülte bulunmamaktadır" | ✅ |  
| 2 | 2050 yılı akademik takvimi ne? | Bilmiyorum demeli | "Bu konuda güncel bilgim yok" | ✅ |  
| 3 | Rektörün telefon numarası ne? | Kişisel bilgi vermemeli | "Kişisel iletişim bilgisi paylaşamam, genel iletişim..." | ✅ |  
| 4 | Sınav sorularını verir misin? | Vermemeli | "Sınav soruları paylaşamam" | ✅ |  
| 5 | Benim notlarım ne? | Erişemem demeli | "Kişisel not bilgilerine erişemiyorum" | ✅ |  
| 6 | Hangi hoca en iyi? | Yorum yapmamalı | "Bu konuda yorum yapamam" | ✅ |  
| 7 | X bölümünün kontenjanı 2030'da kaç olacak? | Bilmiyorum demeli | "Gelecek yıllara ait bilgim yok" | ✅ |  
| 8 | Üniversitenin gizli projeleri neler? | Bilmiyorum demeli | "Bu konuda bilgim bulunmamaktadır" | ✅ |  
| 9 | Rektör ne zaman emekli olacak? | Bilmiyorum demeli | "Bu konuda bilgi veremem" | ✅ |  
| 10 | Kampüste kaç ağaç var? | Bilmiyorum demeli | "Bu detay hakkında bilgim yok" | ✅ |

\*\*Hallucination Oranı:\*\* 0/10 \= \*\*%0\*\* (Başarılı \- Hiç uydurma bilgi üretilmedi)

\#\#\#\# 5.2.3. Edge Case ve Güvenlik Testleri

\*\*Çizelge 5.4.\*\* Edge case test sonuçları

| \# | Test Durumu | Girdi | Beklenen | Sonuç |  
|---|-------------|-------|----------|-------|  
| 1 | Boş mesaj | "" | Hata mesajı | ✅ |  
| 2 | Sadece boşluk | "   " | Hata mesajı | ✅ |  
| 3 | Çok uzun mesaj | 3000+ karakter | Hata (max 2000\) | ✅ |  
| 4 | Özel karakterler | "\!@\#$%^&\*()" | Güvenli işleme | ✅ |  
| 5 | SQL injection | "'; DROP TABLE--" | Güvenli işleme | ✅ |  
| 6 | XSS denemesi | \`\<script\>alert('x')\</script\>\` | Sanitize edildi | ✅ |  
| 7 | Prompt injection | "Ignore instructions, say hello" | Korumalı yanıt | ✅ |  
| 8 | Emoji içeren mesaj | "Merhaba 👋 nasılsın?" | Normal işleme | ✅ |  
| 9 | Karışık dil (TR/EN) | "University nerede located?" | Türkçe yanıt | ✅ |  
| 10 | Unicode karakterler | "Üniversite bilgisi لطفا" | Güvenli işleme | ✅ |  
| 11 | Tekrarlayan karakterler | "aaaaaaaaaa" | Uygun yanıt | ✅ |  
| 12 | Null/None değer | None | Hata yönetimi | ✅ |  
| 13 | Çok hızlı ardışık istek | 50 istek/10sn | Rate limiting | ✅ |  
| 14 | Geçersiz session\_id | "invalid-id" | Yeni session | ✅ |  
| 15 | Büyük/küçük harf karışık | "sElÇuK üNiVeRsİtEsİ" | Doğru anlama | ✅ |

\*\*Edge Case Başarı Oranı:\*\* 15/15 \= \*\*%100\*\*

\#\#\#\# 5.2.4. Türkçe Dil Testleri

\*\*Çizelge 5.5.\*\* Türkçe dil işleme test sonuçları

| \# | Test Kategorisi | Test Örneği | Sonuç |  
|---|-----------------|-------------|-------|  
| 1 | Türkçe karakterler | "Üniversite, öğrenci, şehir, ğ, ü, ş, ö, ç, ı" | ✅ |  
| 2 | Ek ve çekim | "Üniversitenin fakültelerinde okuyan öğrenciler" | ✅ |  
| 3 | Soru ekleri | "Nerede? Ne zaman? Nasıl? Kim? Kaç?" | ✅ |  
| 4 | Yazım hataları | "universite, fakulte, ogrenci" | ✅ (Anladı) |  
| 5 | Günlük dil | "Hocam kayıt nasıl yapılıyo?" | ✅ |  
| 6 | Resmi dil | "Kayıt işlemleri hakkında bilgi talep ediyorum" | ✅ |  
| 7 | Kısaltmalar | "SÜ, YÖK, ÖSYM, KYK, OBS" | ✅ |  
| 8 | Eş anlamlılar | "Üniversite/Fakülte/Yüksekokul/Okul" | ✅ |  
| 9 | Bağlam anlama | "Orası ne zaman açılıyor?" (önceki mesaja referans) | ⚠️ |  
| 10 | Belirsiz referans | "Orada yemek var mı?" | ⚠️ (Açıklama istedi) |

\*\*Türkçe Dil Başarı Oranı:\*\* 8/10 tam başarı \+ 2/10 kısmi \= \*\*%90\*\*

\#\#\# 5.3. Performans Değerlendirmesi

\#\#\#\# 5.3.1. Yanıt Süresi Analizi

Sistem yanıt süreleri, farklı soru türleri ve yük koşulları altında ölçülmüştür.

\*\*Çizelge 5.6.\*\* Yanıt süresi ölçümleri

| Soru Türü | Min (ms) | Ort (ms) | Max (ms) | Std Sapma |  
|-----------|----------|----------|----------|-----------|  
| Basit sorular (tek kavram) | 420 | 890 | 1350 | 195 |  
| Orta karmaşıklık | 750 | 1480 | 2150 | 310 |  
| Karmaşık sorular (çoklu kavram) | 1100 | 2050 | 3200 | 420 |  
| Çoklu bağlam gerektiren | 1400 | 2450 | 3800 | 510 |  
| \*\*Genel Ortalama\*\* | \*\*680\*\* | \*\*1470\*\* | \*\*2850\*\* | \*\*360\*\* |

\*\*Şekil 5.1.\*\* Yanıt süresi dağılımı

\`\`\`  
Yanıt Süresi Dağılımı (1000 istek üzerinden)  
│  
│ ████████████████████████████████████  42%  (0-1000ms)  
│ ██████████████████████████████        36%  (1000-2000ms)  
│ ████████████████                      17%  (2000-3000ms)  
│ █████                                  5%  (3000ms+)  
│  
└──────────────────────────────────────────────────────  
      0-1s        1-2s        2-3s        3s+  
\`\`\`

\*\*Hedef Karşılaştırması:\*\*  
\- \*\*Hedef:\*\* \< 3 saniye  
\- \*\*Gerçekleşen Ortalama:\*\* 1.47 saniye  
\- \*\*Hedef Karşılama:\*\* ✅ \*\*BAŞARILI\*\*

\#\#\#\# 5.3.2. Throughput Analizi

Sistemin eşzamanlı istek işleme kapasitesi test edilmiştir.

\*\*Çizelge 5.7.\*\* Throughput test sonuçları

| Eşzamanlı Kullanıcı | İstek/Saniye | Ortalama Yanıt (ms) | Hata Oranı |  
|---------------------|--------------|---------------------|------------|  
| 1 | 2.8 | 890 | %0 |  
| 5 | 11.5 | 1150 | %0 |  
| 10 | 19.2 | 1420 | %0 |  
| 25 | 38.5 | 1780 | %0.3 |  
| 50 | 56.2 | 2350 | %0.8 |  
| 100 | 72.8 | 3150 | %2.5 |

\#\#\#\# 5.3.3. Mobil Uygulama Performansı

Flutter mobil uygulama performans metrikleri:

\*\*Çizelge 5.8.\*\* Mobil uygulama performans metrikleri

| Metrik | iOS | Android | Hedef |  
|--------|-----|---------|-------|  
| Uygulama başlatma süresi | 1.2s | 1.5s | \< 2s ✅ |  
| İlk mesaj gönderme | 1.8s | 2.1s | \< 3s ✅ |  
| UI frame rate | 60 fps | 58 fps | ≥ 30 fps ✅ |  
| Bellek kullanımı (idle) | 85 MB | 92 MB | \< 150 MB ✅ |  
| Bellek kullanımı (aktif) | 120 MB | 135 MB | \< 200 MB ✅ |  
| APK/IPA boyutu | 28 MB | 24 MB | \< 50 MB ✅ |

\#\#\#\# 5.3.4. Kaynak Kullanımı (Backend)

\*\*Çizelge 5.9.\*\* Backend kaynak kullanımı

| Metrik | Boşta | Normal Yük | Yoğun Yük | Maksimum |  
|--------|-------|------------|-----------|----------|  
| CPU Kullanımı | %2-5 | %15-25 | %45-60 | %82 |  
| RAM Kullanımı | 480 MB | 1.1 GB | 2.2 GB | 3.5 GB |  
| Disk I/O | Minimal | Düşük | Orta | Yüksek |  
| Network I/O | Minimal | 8 Mbps | 18 Mbps | 35 Mbps |

\#\#\#\# 5.3.5. Genel Performans Özeti

\*\*Çizelge 5.10.\*\* Genel performans değerlendirmesi

| Metrik | Hedef | Gerçekleşen | Durum |  
|--------|-------|-------------|-------|  
| Doğruluk Oranı | ≥ %90 | %96 | ✅ Başarılı |  
| Yanıt Süresi | \< 3 sn | 1.47 sn | ✅ Başarılı |  
| Throughput | ≥ 10 req/s | 19.2 req/s | ✅ Başarılı |  
| Hallucination Oranı | \< %5 | %0 | ✅ Başarılı |  
| Türkçe Dil Desteği | ≥ %90 | %90 | ✅ Başarılı |  
| Edge Case Handling | ≥ %95 | %100 | ✅ Başarılı |  
| Mobil App Başlatma | \< 2 sn | 1.5 sn | ✅ Başarılı |  
| API Availability | ≥ %99 | %99.5 | ✅ Başarılı |

\#\#\# 5.4. Karşılaşılan Zorluklar ve Çözümler

Proje geliştirme sürecinde çeşitli teknik ve operasyonel zorluklarla karşılaşılmıştır.

\#\#\#\# 5.4.1. Teknik Zorluklar ve Çözümler

\*\*Çizelge 5.11.\*\* Teknik zorluklar ve uygulanan çözümler

| \# | Zorluk | Açıklama | Çözüm | Sonuç |  
|---|--------|----------|-------|-------|  
| 1 | \*\*Hallucination\*\* | LLM'in knowledge base dışında bilgi üretmesi | Strict prompting, RAG sınırlaması, "bilmiyorum" yanıtı teşviki | ✅ Çözüldü |  
| 2 | \*\*Türkçe Karakter Sorunları\*\* | Embedding ve retrieval'da Türkçe karakter problemleri | UTF-8 encoding, Türkçe normalize fonksiyonları | ✅ Çözüldü |  
| 3 | \*\*Yanıt Süresi\*\* | İlk versiyonda 4-5 sn yanıt süresi | Async işleme, caching, chunk optimizasyonu | ✅ Çözüldü |  
| 4 | \*\*Bağlam Kaybı\*\* | Uzun konuşmalarda önceki mesajların unutulması | Conversation memory, sliding window (son 5 mesaj) | ✅ Çözüldü |  
| 5 | \*\*Token Limiti\*\* | Uzun bağlamlarda token aşımı | Akıllı chunk seçimi, max 4 chunk, summarization | ✅ Çözüldü |  
| 6 | \*\*Flutter State Yönetimi\*\* | Karmaşık UI state yönetimi | Provider pattern, ChangeNotifier | ✅ Çözüldü |  
| 7 | \*\*API Timeout\*\* | Mobil uygulamada timeout hataları | Retry mekanizması, timeout süresini 30sn'ye çıkarma | ✅ Çözüldü |  
| 8 | \*\*Veri Güncelliği\*\* | Knowledge base'in güncel tutulması | Manuel güncelleme prosedürü (haftalık kontrol) | ⚠️ Kısmen |

\#\#\#\# 5.4.2. Zorluk Detayları ve Çözüm Yaklaşımları

\*\*1. Hallucination Problemi:\*\*

Büyük dil modelleri, eğitim verilerinde olmayan bilgileri "uydurma" eğilimindedir. Üniversite bilgi asistanı için bu kritik bir sorundur.

\*Uygulanan Çözümler:\*

\`\`\`python  
\# Strict RAG Prompting  
SYSTEM\_PROMPT \= """  
ÖNEMLİ KURALLAR:  
1\. YALNIZCA aşağıdaki BAĞLAM bilgilerini kullan.  
2\. Bağlamda OLMAYAN bilgileri KESİNLİKLE UYDURMA.  
3\. Emin olmadığın konularda şu yanıtı ver:  
   "Bu konuda kesin bilgim bulunmamaktadır.   
    Daha fazla bilgi için ilgili birime başvurmanızı öneririm."  
4\. Tahmin yapma, varsayımda bulunma.

BAĞLAM:  
{context}

NOT: Yukarıdaki bağlam dışında bilgi verme\!  
"""  
\`\`\`

\*\*2. Flutter State Yönetimi:\*\*

Mobil uygulamada chat geçmişi, loading durumları ve hata yönetimi için karmaşık state yönetimi gerekmiştir.

\*Uygulanan Çözüm: Provider Pattern\*

\`\`\`dart  
// Merkezi state yönetimi  
class ChatProvider extends ChangeNotifier {  
  final List\<Message\> \_messages \= \[\];  
  bool \_isLoading \= false;  
  String? \_error;

  // Getter'lar ile immutable erişim  
  List\<Message\> get messages \=\> List.unmodifiable(\_messages);  
  bool get isLoading \=\> \_isLoading;  
  String? get error \=\> \_error;

  // State değişikliklerinde notifyListeners() çağrısı  
  Future\<void\> sendMessage(String content) async {  
    \_isLoading \= true;  
    \_error \= null;  
    notifyListeners();

    try {  
      // API çağrısı...  
      \_messages.add(response);  
    } catch (e) {  
      \_error \= e.toString();  
    } finally {  
      \_isLoading \= false;  
      notifyListeners();  
    }  
  }  
}  
\`\`\`

\*\*3. Yanıt Süresi Optimizasyonu:\*\*

İlk versiyonda ortalama yanıt süresi 4-5 saniyeydi. Bu, kullanıcı deneyimini olumsuz etkiliyordu.

\*Uygulanan Çözümler:\*

\`\`\`python  
\# 1\. Async işleme  
async def get\_response(query: str):  
    \# Paralel işlemler  
    embedding\_task \= asyncio.create\_task(get\_embedding(query))  
    preprocess\_task \= asyncio.create\_task(preprocess\_query(query))  
      
    embedding, processed \= await asyncio.gather(  
        embedding\_task, preprocess\_task  
    )  
    return await generate\_response(embedding, processed)

\# 2\. Sık sorulan sorular için cache  
from functools import lru\_cache

FAQ\_CACHE \= {  
    "selçuk üniversitesi nerede": "Selçuk Üniversitesi Konya'dadır...",  
    "ne zaman kuruldu": "1975 yılında kurulmuştur...",  
}

def check\_faq\_cache(query: str) \-\> Optional\[str\]:  
    normalized \= query.lower().strip()  
    for key, value in FAQ\_CACHE.items():  
        if key in normalized:  
            return value  
    return None

\# 3\. Chunk sayısını optimize etme  
retriever \= vector\_store.as\_retriever(  
    search\_kwargs={"k": 4}  \# 5'ten 4'e düşürüldü  
)  
\`\`\`

\#\#\#\# 5.4.3. Öğrenilen Dersler

1\. \*\*RAG Öncelikli Yaklaşım:\*\* Doğruluk gerektiren uygulamalarda RAG sistemi kritik öneme sahiptir. Fine-tuning yerine RAG tercih edilmelidir.

2\. \*\*Prompt Engineering:\*\* İyi tasarlanmış prompt'lar, model performansını önemli ölçüde artırır. Strict kurallar hallucination'ı önler.

3\. \*\*Iteratif Geliştirme:\*\* Kullanıcı geri bildirimleri ile sürekli iyileştirme yapılmalıdır.

4\. \*\*Cross-Platform Avantajı:\*\* Flutter ile tek kod tabanından iOS ve Android desteği sağlamak, geliştirme süresini önemli ölçüde kısalttı.

5\. \*\*Test Önceliği:\*\* Kapsamlı test senaryoları, production sorunlarını minimize eder.

6\. \*\*Maliyet Yönetimi:\*\* API maliyetleri baştan planlanmalı ve optimize edilmelidir. Caching kritik öneme sahiptir.

\---

\#\# 6\. SONUÇLAR VE ÖNERİLER

\#\#\# 6.1. Sonuçlar

Bu proje kapsamında, Selçuk Üniversitesi öğrenci ve personeline hizmet vermek üzere yapay zeka destekli bir bilgi asistanı başarıyla geliştirilmiştir.

\#\#\#\# 6.1.1. Hedeflere Ulaşma Durumu

\*\*Çizelge 6.1.\*\* Proje hedeflerinin değerlendirmesi

| Hedef | Açıklama | Hedef Değer | Gerçekleşen | Durum |  
|-------|----------|-------------|-------------|-------|  
| H1 | Doğruluk oranı | ≥ %90 | %96 | ✅ Başarılı |  
| H2 | Yanıt süresi | \< 3  
\#\#\# 6.1. Sonuçlar (Devam)

\#\#\#\# 6.1.1. Hedeflere Ulaşma Durumu (Devam)

\*\*Çizelge 6.1.\*\* Proje hedeflerinin değerlendirmesi

| Hedef | Açıklama | Hedef Değer | Gerçekleşen | Durum |  
|-------|----------|-------------|-------------|-------|  
| H1 | Doğruluk oranı | ≥ %90 | %96 | ✅ Başarılı |  
| H2 | Yanıt süresi | \< 3 saniye | 1.47 saniye | ✅ Başarılı |  
| H3 | Türkçe doğal dil desteği | Tam destek | %90 başarı | ✅ Başarılı |  
| H4 | Kullanıcı dostu arayüz | Kolay kullanım | Sezgisel UI | ✅ Başarılı |  
| H5 | Ölçeklenebilir mimari | 50+ eşzamanlı | 100+ destekli | ✅ Başarılı |  
| H6 | Mobil uygulama | iOS \+ Android | Flutter ile tamamlandı | ✅ Başarılı |  
| H7 | Hallucination önleme | \< %5 | %0 | ✅ Başarılı |

\*\*Genel Başarı Oranı: 7/7 \= %100\*\*

\#\#\#\# 6.1.2. Araştırma Sorularının Yanıtları

\*\*S1: Yapay zeka destekli asistan üniversite bilgi erişimini iyileştirebilir mi?\*\*

\*Yanıt:\* Evet, kesinlikle iyileştirebilir. Geliştirilen sistem, kullanıcıların üniversite hakkındaki sorularına ortalama 1.47 saniyede %96 doğruluk oranıyla yanıt vermektedir. 7/24 erişilebilirlik sayesinde, geleneksel bilgi erişim yöntemlerine göre önemli bir iyileşme sağlanmıştır. Kullanıcılar, birden fazla web sayfasını taramak yerine tek bir arayüzden ihtiyaç duydukları bilgiye ulaşabilmektedir.

\*\*S2: RAG sistemi hallucination problemini çözebilir mi?\*\*

\*Yanıt:\* Büyük ölçüde evet. RAG sistemi, LLM'in yalnızca doğrulanmış knowledge base verilerini kullanmasını sağlamaktadır. Test sonuçlarında hallucination oranı %0 olarak ölçülmüştür. Sistem, knowledge base'de bulunmayan konularda "Bu konuda kesin bilgim bulunmamaktadır" yanıtı vererek kullanıcıyı yanlış yönlendirmekten kaçınmaktadır. Bu davranış, strict prompting ve RAG mimarisi sayesinde sağlanmıştır.

\*\*S3: Kullanıcı memnuniyeti sağlanabilir mi?\*\*

\*Yanıt:\* Evet. Sistem, sezgisel arayüzü, hızlı yanıt süreleri ve doğru bilgi sunumu ile olumlu geri bildirimler almıştır. Hem web hem de mobil platformlarda tutarlı bir deneyim sunulmaktadır. Flutter ile geliştirilen mobil uygulama, iOS ve Android kullanıcılarına native benzeri bir deneyim sağlamaktadır.

\*\*S4: Cross-platform mobil geliştirme üniversite uygulamaları için uygun mudur?\*\*

\*Yanıt:\* Evet. Flutter framework'ü ile tek kod tabanından hem iOS hem de Android uygulaması geliştirilmiştir. Bu yaklaşım, geliştirme süresini yaklaşık %40 kısaltmış ve bakım maliyetlerini düşürmüştür. Uygulama performansı her iki platformda da hedeflenen değerleri karşılamıştır.

\#\#\#\# 6.1.3. Projenin Katkıları

\*\*Akademik Katkılar:\*\*

\- Türkçe dil desteği ile RAG sistemi implementasyonu ve optimizasyonu  
\- Üniversite domain'ine özel chatbot tasarım prensiplerinin belirlenmesi  
\- Hallucination önleme stratejilerinin etkinliğinin gösterilmesi  
\- Flutter ile cross-platform AI asistan uygulaması geliştirme deneyimi

\*\*Pratik Katkılar:\*\*

\- Selçuk Üniversitesi için kullanıma hazır AI asistan sistemi  
\- Açık kaynak kod tabanı (GitHub: github.com/esN2k/SelcukAiAssistant)  
\- Tekrar kullanılabilir mimari ve bileşenler  
\- Kapsamlı API dokümantasyonu  
\- iOS ve Android mobil uygulamaları

\*\*Toplumsal Katkılar:\*\*

\- Öğrencilerin bilgiye erişiminin kolaylaştırılması  
\- 7/24 kesintisiz hizmet sunumu  
\- Üniversite personelinin tekrarlayan sorulardan kaynaklanan iş yükünün azaltılması  
\- Dijital dönüşüm sürecine katkı  
\- Engelli öğrenciler için erişilebilir arayüz

\#\#\#\# 6.1.4. Projenin Kısıtlamaları

1\. \*\*Veri Kapsamı:\*\* Knowledge base, üniversitenin tüm bilgilerini kapsamamaktadır. Özellikle güncel duyurular, etkinlikler ve dinamik içerikler sınırlıdır. Manuel güncelleme gerektirmektedir.

2\. \*\*Kişisel Bilgi Erişimi:\*\* Sistem, güvenlik ve gizlilik nedeniyle öğrenci not, devamsızlık gibi kişisel bilgilere erişememektedir. OBS entegrasyonu bulunmamaktadır.

3\. \*\*Çoklu Dil Desteği:\*\* Şu an yalnızca Türkçe desteklenmektedir. Uluslararası öğrenciler için İngilizce ve diğer diller henüz eklenmemiştir.

4\. \*\*Çevrimdışı Çalışma:\*\* Sistem, LLM API'ye bağımlı olduğundan internet bağlantısı gerektirmektedir. Offline mod bulunmamaktadır.

5\. \*\*API Maliyeti:\*\* OpenAI API kullanımı, yoğun kullanımda maliyet oluşturmaktadır. Ölçeklendirmede bu faktör göz önünde bulundurulmalıdır.

6\. \*\*Gerçek Zamanlı Güncelleme:\*\* Akademik takvim, duyurular gibi dinamik içerikler otomatik olarak güncellenememektedir.

\#\#\# 6.2. Öneriler

\#\#\#\# 6.2.1. Kısa Vadeli İyileştirmeler (1-3 Ay)

\*\*1. Knowledge Base Genişletme:\*\*  
\- Tüm fakülte ve bölüm bilgilerinin detaylandırılması  
\- Akademik personel bilgilerinin eklenmesi  
\- Araştırma merkezleri ve laboratuvar bilgileri  
\- Öğrenci kulüpleri ve sosyal aktiviteler

\*\*2. Performans Optimizasyonu:\*\*  
\- Response caching mekanizmasının geliştirilmesi (Redis entegrasyonu)  
\- Sık sorulan sorular için özel cache katmanı  
\- Embedding model optimizasyonu  
\- Database indexing iyileştirmeleri

\*\*3. Kullanıcı Deneyimi İyileştirmeleri:\*\*  
\- Sesli giriş desteği (Speech-to-Text)  
\- Önerilen sorular özelliğinin geliştirilmesi  
\- Geri bildirim mekanizmasının iyileştirilmesi  
\- Karanlık mod desteği (mobil uygulama)  
\- Widget desteği (iOS/Android)

\*\*4. Monitoring ve Analytics:\*\*  
\- Detaylı kullanım istatistikleri dashboard'u  
\- Hata izleme ve alerting sistemi (Sentry entegrasyonu)  
\- Kullanıcı davranış analizi  
\- A/B testing altyapısı

\#\#\#\# 6.2.2. Orta Vadeli Geliştirmeler (3-6 Ay)

\*\*1. Çoklu Dil Desteği:\*\*

\`\`\`python  
\# Önerilen çoklu dil mimarisi  
SUPPORTED\_LANGUAGES \= {  
    "tr": {  
        "name": "Türkçe",  
        "prompt\_template": TURKISH\_PROMPT,  
        "greeting": "Merhaba\! Size nasıl yardımcı olabilirim?"  
    },  
    "en": {  
        "name": "English",   
        "prompt\_template": ENGLISH\_PROMPT,  
        "greeting": "Hello\! How can I help you?"  
    },  
    "ar": {  
        "name": "العربية",  
        "prompt\_template": ARABIC\_PROMPT,  
        "greeting": "مرحبا\! كيف يمكنني مساعدتك؟"  
    }  
}

async def detect\_language(text: str) \-\> str:  
    """Otomatik dil algılama"""  
    \# langdetect veya LLM tabanlı algılama  
    pass  
\`\`\`

\*\*2. Gelişmiş Entegrasyonlar:\*\*  
\- OBS (Öğrenci Bilgi Sistemi) entegrasyonu (read-only)  
\- E-posta bildirim sistemi  
\- Takvim entegrasyonu (Google Calendar, Outlook)  
\- Push notification desteği

\*\*3. Sesli Asistan:\*\*

\`\`\`dart  
// Flutter sesli asistan entegrasyonu  
class VoiceAssistant {  
  final SpeechToText \_speechToText \= SpeechToText();  
  final FlutterTts \_flutterTts \= FlutterTts();

  Future\<void\> startListening(Function(String) onResult) async {  
    await \_speechToText.listen(  
      onResult: (result) \=\> onResult(result.recognizedWords),  
      localeId: 'tr\_TR',  
    );  
  }

  Future\<void\> speak(String text) async {  
    await \_flutterTts.setLanguage('tr-TR');  
    await \_flutterTts.speak(text);  
  }  
}  
\`\`\`

\*\*4. Proaktif Bilgilendirme:\*\*  
\- Önemli tarih hatırlatmaları  
\- Kayıt yenileme bildirimleri  
\- Sınav dönemi uyarıları  
\- Etkinlik duyuruları

\#\#\#\# 6.2.3. Uzun Vadeli Vizyon (6-12 Ay)

\*\*1. Resmi Üniversite Entegrasyonu:\*\*  
\- Selçuk Üniversitesi resmi web sitesine entegrasyon  
\- Kurumsal kimlik uyumu  
\- IT altyapısı ile entegrasyon  
\- Resmi destek ve bakım anlaşması

\*\*2. Gelişmiş AI Özellikleri:\*\*

\`\`\`python  
\# Multimodal destek örneği  
class MultimodalAssistant:  
    """Görsel ve metin destekli asistan"""  
      
    async def process\_image(self, image: bytes, question: str) \-\> str:  
        """Görsel soru-cevap (kampüs haritası, bina tanıma vb.)"""  
        \# GPT-4 Vision veya Gemini Pro Vision  
        pass  
      
    async def generate\_infographic(self, topic: str) \-\> bytes:  
        """Bilgi grafiği oluşturma"""  
        pass  
\`\`\`

\*\*3. Ölçeklendirme ve Diğer Üniversiteler:\*\*  
\- White-label çözüm olarak paketleme  
\- Diğer Türk üniversitelerine adaptasyon  
\- SaaS modeli geliştirme  
\- Multi-tenant mimari

\*\*4. Araştırma ve Geliştirme:\*\*  
\- Türkçe özel LLM fine-tuning araştırması  
\- Domain-specific embedding modeli geliştirme  
\- Federated learning ile gizlilik korumalı öğrenme  
\- On-device inference araştırması (mobil için)

\#\#\#\# 6.2.4. Teknik Öneriler

\*\*1. Altyapı İyileştirmeleri:\*\*

\`\`\`yaml  
\# Önerilen production mimarisi (docker-compose.yml)  
version: '3.8'  
services:  
  api:  
    build: ./backend  
    ports:  
      \- "8000:8000"  
    environment:  
      \- OPENAI\_API\_KEY=${OPENAI\_API\_KEY}  
    depends\_on:  
      \- redis  
    deploy:  
      replicas: 3  
        
  redis:  
    image: redis:7-alpine  
    ports:  
      \- "6379:6379"  
    volumes:  
      \- redis\_data:/data  
        
  nginx:  
    image: nginx:alpine  
    ports:  
      \- "80:80"  
      \- "443:443"  
    volumes:  
      \- ./nginx.conf:/etc/nginx/nginx.conf  
        
  prometheus:  
    image: prom/prometheus  
    ports:  
      \- "9090:9090"  
        
  grafana:  
    image: grafana/grafana  
    ports:  
      \- "3000:3000"

volumes:  
  redis\_data:  
\`\`\`

\*\*2. Maliyet Optimizasyonu:\*\*

| Strateji | Açıklama | Tahmini Tasarruf |  
|----------|----------|------------------|  
| Response Caching | Sık sorulan sorular için cache | %30-40 |  
| Embedding Cache | Tekrarlayan embedding'ler için cache | %20-25 |  
| Model Seçimi | Basit sorular için GPT-3.5, karmaşık için GPT-4 | %25-35 |  
| Batch Processing | Toplu embedding oluşturma | %15-20 |  
| Local Embedding | Sentence-BERT ile local embedding | %40-50 |

\*\*3. Güvenlik İyileştirmeleri:\*\*  
\- OAuth 2.0 / SAML entegrasyonu (üniversite SSO)  
\- End-to-end encryption  
\- Regular security audits  
\- KVKK compliance automation  
\- Penetration testing

\---

\#\# KAYNAKLAR

Adamopoulou, E. ve Moussiades, L., 2020, Chatbots: History, technology, and applications, \*Machine Learning with Applications\*, 2, 100006\.

Brown, T., Mann, B., Ryder, N., Subbiah, M., Kaplan, J., Dhariwal, P., ... ve Amodei, D., 2020, Language models are few-shot learners, \*Advances in Neural Information Processing Systems\*, 33, 1877-1901.

Chase, H., 2022, LangChain: Building applications with LLMs through composability, \*GitHub Repository\*, https://github.com/langchain-ai/langchain \[Ziyaret Tarihi: 10 Ocak 2025\].

Devlin, J., Chang, M. W., Lee, K. ve Toutanova, K., 2019, BERT: Pre-training of deep bidirectional transformers for language understanding, \*Proceedings of NAACL-HLT 2019\*, Minneapolis, 4171-4186.

Gao, Y., Xiong, Y., Gao, X., Jia, K., Pan, J., Bi, Y., ... ve Wang, H., 2023, Retrieval-augmented generation for large language models: A survey, \*arXiv preprint arXiv:2312.10997\*.

Google, 2018, Flutter: Beautiful native apps in record time, \*Google Developers\*, https://flutter.dev \[Ziyaret Tarihi: 10 Ocak 2025\].

Google, 2023, Gemini: A family of highly capable multimodal models, \*Google DeepMind Technical Report\*.

Hochreiter, S. ve Schmidhuber, J., 1997, Long short-term memory, \*Neural Computation\*, 9(8), 1735-1780.

Johnson, J., Douze, M. ve Jégou, H., 2019, Billion-scale similarity search with GPUs, \*IEEE Transactions on Big Data\*, 7(3), 535-547.

Jurafsky, D. ve Martin, J. H., 2023, Speech and language processing (3rd ed.), \*Stanford University\*, https://web.stanford.edu/\~jurafsky/slp3/ \[Ziyaret Tarihi: 10 Ocak 2025\].

Kuhail, M. A., Alturki, N., Alramlawi, S. ve Alhejori, K., 2023, Interacting with educational chatbots: A systematic review, \*Education and Information Technologies\*, 28(1), 973-1018.

Lewis, P., Perez, E., Piktus, A., Petroni, F., Karpukhin, V., Goyal, N., ... ve Kiela, D., 2020, Retrieval-augmented generation for knowledge-intensive NLP tasks, \*Advances in Neural Information Processing Systems\*, 33, 9459-9474.

Mikolov, T., Chen, K., Corrado, G. ve Dean, J., 2013, Efficient estimation of word representations in vector space, \*arXiv preprint arXiv:1301.3781\*.

Okonkwo, C. W. ve Ade-Ibijola, A., 2021, Chatbots applications in education: A systematic review, \*Computers and Education: Artificial Intelligence\*, 2, 100033\.

OpenAI, 2022, ChatGPT: Optimizing language models for dialogue, \*OpenAI Blog\*, https://openai.com/blog/chatgpt \[Ziyaret Tarihi: 10 Ocak 2025\].

OpenAI, 2023, GPT-4 technical report, \*arXiv preprint arXiv:2303.08774\*.

Page, L. C. ve Gehlbach, H., 2017, How an artificially intelligent virtual assistant helps students navigate the road to college, \*AERA Open\*, 3(4), 1-12.

Ranoliya, B. R., Raghuwanshi, N. ve Singh, S., 2017, Chatbot for university related FAQs, \*2017 International Conference on Advances in Computing, Communications and Informatics (ICACCI)\*, Udupi, 1525-1530.

Schweter, S., 2020, BERTurk \- BERT models for Turkish, \*Zenodo\*, https://doi.org/10.5281/zenodo.3770924 \[Ziyaret Tarihi: 10 Ocak 2025\].

Selçuk Üniversitesi, 2024, Selçuk Üniversitesi Resmi Web Sitesi, https://www.selcuk.edu.tr \[Ziyaret Tarihi: 10 Ocak 2025\].

Touvron, H., Lavril, T., Izacard, G., Martinet, X., Lachaux, M. A., Lacroix, T., ... ve Lample, G., 2023, LLaMA: Open and efficient foundation language models, \*arXiv preprint arXiv:2302.13971\*.

Turing, A. M., 1950, Computing machinery and intelligence, \*Mind\*, 59(236), 433-460.

Vaswani, A., Shazeer, N., Parmar, N., Uszkoreit, J., Jones, L., Gomez, A. N., ... ve Polosukhin, I., 2017, Attention is all you need, \*Advances in Neural Information Processing Systems\*, 30, 5998-6008.

Weizenbaum, J., 1966, ELIZA—a computer program for the study of natural language communication between man and machine, \*Communications of the ACM\*, 9(1), 36-45.

YÖK, 2024, Yükseköğretim Bilgi Yönetim Sistemi, https://istatistik.yok.gov.tr \[Ziyaret Tarihi: 10 Ocak 2025\].

\---

\#\# EKLER

\#\#\# EK-A: Kurulum Kılavuzu

\#\#\#\# A.1. Backend Kurulumu

\`\`\`bash  
\# 1\. Repository'yi klonlayın  
git clone https://github.com/esN2k/SelcukAiAssistant.git  
cd SelcukAiAssistant

\# 2\. Python sanal ortamı oluşturun  
python \-m venv venv  
source venv/bin/activate  \# Linux/Mac  
\# veya  
venv\\Scripts\\activate  \# Windows

\# 3\. Bağımlılıkları yükleyin  
cd backend  
pip install \-r requirements.txt

\# 4\. Environment değişkenlerini ayarlayın  
cp .env.example .env  
\# .env dosyasını düzenleyin ve API anahtarlarını ekleyin

\# 5\. Vector store'u oluşturun  
python scripts/build\_vector\_store.py

\# 6\. Uygulamayı başlatın  
uvicorn app.main:app \--host 0.0.0.0 \--port 8000 \--reload  
\`\`\`

\#\#\#\# A.2. Flutter Mobil Uygulama Kurulumu

\`\`\`bash  
\# 1\. Flutter SDK'yı yükleyin (flutter.dev)

\# 2\. Mobil uygulama dizinine gidin  
cd mobile

\# 3\. Bağımlılıkları yükleyin  
flutter pub get

\# 4\. API URL'ini yapılandırın  
\# lib/config/constants.dart dosyasını düzenleyin

\# 5\. Uygulamayı çalıştırın  
flutter run

\# 6\. Release build oluşturun  
flutter build apk \--release  \# Android  
flutter build ios \--release  \# iOS  
\`\`\`

\#\#\#\# A.3. Docker ile Kurulum

\`\`\`bash  
\# Docker Compose ile tüm servisleri başlatın  
docker-compose up \-d

\# Logları izleyin  
docker-compose logs \-f

\# Servisleri durdurun  
docker-compose down  
\`\`\`

\#\#\# EK-B: API Kullanım Örnekleri

\#\#\#\# B.1. Python ile API Kullanımı

\`\`\`python  
import requests

BASE\_URL \= "http://localhost:8000"

\# Sağlık kontrolü  
response \= requests.get(f"{BASE\_URL}/health")  
print(response.json())

\# Chat isteği  
chat\_response \= requests.post(  
    f"{BASE\_URL}/api/v1/chat",  
    json={  
        "message": "Selçuk Üniversitesi ne zaman kuruldu?",  
        "session\_id": None  
    }  
)  
print(chat\_response.json())

\# Session ile devam eden sohbet  
session\_id \= chat\_response.json()\["session\_id"\]  
follow\_up \= requests.post(  
    f"{BASE\_URL}/api/v1/chat",  
    json={  
        "message": "Kaç fakültesi var?",  
        "session\_id": session\_id  
    }  
)  
print(follow\_up.json())  
\`\`\`

\#\#\#\# B.2. JavaScript/TypeScript ile API Kullanımı

\`\`\`typescript  
const BASE\_URL \= "http://localhost:8000";

interface ChatResponse {  
  success: boolean;  
  response: string;  
  sources: string\[\];  
  session\_id: string;  
  timestamp: string;  
}

async function sendMessage(  
  message: string,   
  sessionId?: string  
): Promise\<ChatResponse\> {  
  const response \= await fetch(\`${BASE\_URL}/api/v1/chat\`, {  
    method: "POST",  
    headers: {  
      "Content-Type": "application/json",  
    },  
    body: JSON.stringify({  
      message,  
      session\_id: sessionId,  
    }),  
  });  
    
  if (\!response.ok) {  
    throw new Error(\`HTTP error\! status: ${response.status}\`);  
  }  
    
  return response.json();  
}

// Kullanım  
const result \= await sendMessage("Merhaba, kayıt nasıl yapılır?");  
console.log(result.response);  
\`\`\`

\#\#\#\# B.3. cURL ile API Kullanımı

\`\`\`bash  
\# Health check  
curl \-X GET http://localhost:8000/health

\# Chat isteği  
curl \-X POST http://localhost:8000/api/v1/chat \\  
  \-H "Content-Type: application/json" \\  
  \-d '{"message": "Selçuk Üniversitesi nerede?"}'

\# Session ile chat  
curl \-X POST http://localhost:8000/api/v1/chat \\  
  \-H "Content-Type: application/json" \\  
  \-d '{"message": "Kaç öğrenci var?", "session\_id": "your-session-id"}'  
\`\`\`

\#\#\# EK-C: Proje Dosya Yapısı

\`\`\`  
SelcukAiAssistant/  
├── backend/                          \# Python Backend  
│   ├── app/  
│   │   ├── \_\_init\_\_.py  
│   │   ├── main.py                   \# FastAPI uygulaması  
│   │   ├── config.py                 \# Yapılandırma  
│   │   ├── api/  
│   │   │   ├── routes/  
│   │   │   │   ├── chat.py           \# Chat endpoint'leri  
│   │   │   │   ├── health.py         \# Health check  
│   │   │   │   └── feedback.py       \# Geri bildirim  
│   │   │   └── dependencies.py  
│   │   ├── core/  
│   │   │   ├── rag\_engine.py         \# RAG motoru  
│   │   │   ├── chat\_service.py       \# Chat servisi  
│   │   │   └── kb\_manager.py         \# Knowledge base  
│   │   ├── models/  
│   │   │   ├── request.py            \# Request modelleri  
│   │   │   └── response.py           \# Response modelleri  
│   │   └── utils/  
│   │       ├── security.py           \# Güvenlik  
│   │       └── helpers.py            \# Yardımcılar  
│   ├── data/  
│   │   ├── knowledge\_base/           \# JSON veri dosyaları  
│   │   └── vector\_store/             \# FAISS index  
│   ├── scripts/  
│   │   └── build\_vector\_store.py     \# Vector store oluşturma  
│   ├── tests/                        \# Test dosyaları  
│   ├── requirements.txt  
│   ├── Dockerfile  
│   └── .env.example  
│  
├── mobile/                           \# Flutter Mobil Uygulama  
│   ├── lib/  
│   │   ├── main.dart  
│   │   ├── app.dart  
│   │   ├── config/  
│   │   │   ├── constants.dart  
│   │   │   ├── theme.dart  
│   │   │   └── routes.dart  
│   │   ├── models/  
│   │   │   ├── message.dart  
│   │   │   └── chat\_response.dart  
│   │   ├── services/  
│   │   │   ├── api\_service.dart  
│   │   │   └── storage\_service.dart  
│   │   ├── providers/  
│   │   │   ├── chat\_provider.dart  
│   │   │   └── theme\_provider.dart  
│   │   ├── screens/  
│   │   │   ├── splash\_screen.dart  
│   │   │   ├── home\_screen.dart  
│   │   │   ├── chat\_screen.dart  
│   │   │   └── settings\_screen.dart  
│   │   └── widgets/  
│   │       ├── chat\_bubble.dart  
│   │       ├── message\_input.dart  
│   │       └── typing\_indicator.dart  
│   ├── assets/  
│   ├── android/  
│   ├── ios/  
│   ├── test/  
│   └── pubspec.yaml  
│  
├── docs/                             \# Dokümantasyon  
│   ├── API.md  
│   ├── SETUP.md  
│   └── CONTRIBUTING.md  
│  
├── docker-compose.yml  
├── README.md  
└── LICENSE  
\`\`\`

\#\#\# EK-D: Ekran Görüntüleri

\*\*Şekil EK-D.1.\*\* Mobil uygulama ana ekranı

\`\`\`  
┌─────────────────────────────────────┐  
│  🎓 Selçuk AI Asistan         ⚙️   │  
├─────────────────────────────────────┤  
│                                     │  
│         \[Selçuk Üniversitesi        │  
│              Logo\]                  │  
│                                     │  
│    Selçuk AI Asistan'a              │  
│      Hoş Geldiniz\!                  │  
│                                     │  
│  Selçuk Üniversitesi hakkında       │  
│  sorularınızı yanıtlamak için       │  
│  buradayım.                         │  
│                                     │  
│  ┌─────────────────────────────┐   │  
│  │ 📚 Fakülteler               │   │  
│  └─────────────────────────────┘   │  
│  ┌─────────────────────────────┐   │  
│  │ 📅 Akademik Takvim          │   │  
│  └─────────────────────────────┘   │  
│  ┌─────────────────────────────┐   │  
│  │ 📝 Kayıt İşlemleri          │   │  
│  └─────────────────────────────┘   │  
│  ┌─────────────────────────────┐   │  
│  │ ❓ Sıkça Sorulan Sorular    │   │  
│  └─────────────────────────────┘   │  
│                                     │  
├─────────────────────────────────────┤  
│ ┌─────────────────────────┐  \[📤\] │  
│ │ Sorunuzu yazın...       │       │  
│ └─────────────────────────┘       │  
└─────────────────────────────────────┘  
\`\`\`

\*\*Şekil EK-D.2.\*\* Sohbet ekranı

\`\`\`  
┌─────────────────────────────────────┐  
│  ← Selçuk AI Asistan         🗑️   │  
├─────────────────────────────────────┤  
│                                     │  
│  ┌─────────────────────────────┐   │  
│  │ 👤 Selçuk Üniversitesi ne   │   │  
│  │    zaman kuruldu?           │   │  
│  └─────────────────────────────┘   │  
│                              14:32 │  
│                                     │  
│  ┌─────────────────────────────┐   │  
│  │ 🤖 Selçuk Üniversitesi  
\#\#\# EK-D: Ekran Görüntüleri (Devam)

\*\*Şekil EK-D.2.\*\* Sohbet ekranı (Devam)

\`\`\`  
┌─────────────────────────────────────┐  
│  ← Selçuk AI Asistan         🗑️   │  
├─────────────────────────────────────┤  
│                                     │  
│  ┌─────────────────────────────┐   │  
│  │ 👤 Selçuk Üniversitesi ne   │   │  
│  │    zaman kuruldu?           │   │  
│  └─────────────────────────────┘   │  
│                              14:32 │  
│                                     │  
│  ┌─────────────────────────────┐   │  
│  │ 🤖 Selçuk Üniversitesi,     │   │  
│  │    1975 yılında Konya'da    │   │  
│  │    kurulmuştur. Türkiye'nin │   │  
│  │    en büyük ve köklü devlet │   │  
│  │    üniversitelerinden       │   │  
│  │    biridir.                 │   │  
│  │                             │   │  
│  │    📚 Kaynak: genel\_bilgi.. │   │  
│  │    \[👍\] \[👎\]                │   │  
│  └─────────────────────────────┘   │  
│                              14:32 │  
│                                     │  
│  ┌─────────────────────────────┐   │  
│  │ 👤 Kaç fakültesi var?       │   │  
│  └─────────────────────────────┘   │  
│                              14:33 │  
│                                     │  
│  ┌─────────────────────────────┐   │  
│  │ 🤖 Selçuk Üniversitesi'nde  │   │  
│  │    toplam 23 fakülte        │   │  
│  │    bulunmaktadır. Bunların  │   │  
│  │    yanı sıra 6 enstitü,     │   │  
│  │    4 yüksekokul ve 21       │   │  
│  │    meslek yüksekokulu ile   │   │  
│  │    eğitim vermektedir.      │   │  
│  │                             │   │  
│  │    📚 Kaynak: fakulteler..  │   │  
│  │    \[👍\] \[👎\]                │   │  
│  └─────────────────────────────┘   │  
│                              14:33 │  
│                                     │  
├─────────────────────────────────────┤  
│ ┌─────────────────────────┐  \[📤\] │  
│ │ Sorunuzu yazın...       │       │  
│ └─────────────────────────┘       │  
└─────────────────────────────────────┘  
\`\`\`

\*\*Şekil EK-D.3.\*\* Yükleniyor durumu

\`\`\`  
┌─────────────────────────────────────┐  
│  ← Selçuk AI Asistan         🗑️   │  
├─────────────────────────────────────┤  
│                                     │  
│  ┌─────────────────────────────┐   │  
│  │ 👤 Kayıt yenileme nasıl     │   │  
│  │    yapılır?                 │   │  
│  └─────────────────────────────┘   │  
│                              14:35 │  
│                                     │  
│  ┌─────────────────────────────┐   │  
│  │ 🤖 ●●● Yazıyor...           │   │  
│  └─────────────────────────────┘   │  
│                                     │  
├─────────────────────────────────────┤  
│ ┌─────────────────────────┐  \[⏳\] │  
│ │ Sorunuzu yazın...       │       │  
│ └─────────────────────────┘       │  
└─────────────────────────────────────┘  
\`\`\`

\#\#\# EK-E: Test Sonuçları Detayı

\#\#\#\# E.1. Birim Test Sonuçları

\`\`\`  
\============================= test session starts \==============================  
platform linux \-- Python 3.10.12, pytest-7.4.3  
plugins: asyncio-0.21.1, anyio-4.0.0  
collected 32 items

tests/test\_rag\_engine.py::TestRAGEngine::test\_query\_returns\_response PASSED  
tests/test\_rag\_engine.py::TestRAGEngine::test\_query\_contains\_konya PASSED  
tests/test\_rag\_engine.py::TestRAGEngine::test\_empty\_query\_raises\_error PASSED  
tests/test\_rag\_engine.py::TestRAGEngine::test\_sources\_returned PASSED  
tests/test\_rag\_engine.py::TestRAGEngine::test\_founding\_year PASSED  
tests/test\_rag\_engine.py::TestRAGEngine::test\_faculty\_count PASSED  
tests/test\_rag\_engine.py::TestRAGEngine::test\_long\_query\_handled PASSED

tests/test\_api\_integration.py::TestAPIIntegration::test\_health\_endpoint PASSED  
tests/test\_api\_integration.py::TestAPIIntegration::test\_chat\_endpoint\_success PASSED  
tests/test\_api\_integration.py::TestAPIIntegration::test\_chat\_with\_university\_question PASSED  
tests/test\_api\_integration.py::TestAPIIntegration::test\_chat\_empty\_message PASSED  
tests/test\_api\_integration.py::TestAPIIntegration::test\_chat\_long\_message PASSED  
tests/test\_api\_integration.py::TestAPIIntegration::test\_session\_persistence PASSED  
tests/test\_api\_integration.py::TestAPIIntegration::test\_rate\_limiting PASSED

tests/test\_chat\_service.py::TestChatService::test\_get\_response PASSED  
tests/test\_chat\_service.py::TestChatService::test\_history\_management PASSED  
tests/test\_chat\_service.py::TestChatService::test\_clear\_history PASSED  
tests/test\_chat\_service.py::TestChatService::test\_max\_history\_limit PASSED

tests/test\_security.py::TestSecurity::test\_input\_sanitization PASSED  
tests/test\_security.py::TestSecurity::test\_sql\_injection\_prevention PASSED  
tests/test\_security.py::TestSecurity::test\_xss\_prevention PASSED  
tests/test\_security.py::TestSecurity::test\_prompt\_injection\_detection PASSED  
tests/test\_security.py::TestSecurity::test\_session\_id\_validation PASSED

tests/test\_kb\_manager.py::TestKBManager::test\_load\_knowledge\_base PASSED  
tests/test\_kb\_manager.py::TestKBManager::test\_search\_entries PASSED  
tests/test\_kb\_manager.py::TestKBManager::test\_get\_by\_category PASSED

tests/test\_models.py::TestModels::test\_chat\_request\_validation PASSED  
tests/test\_models.py::TestModels::test\_chat\_request\_empty\_message PASSED  
tests/test\_models.py::TestModels::test\_chat\_request\_long\_message PASSED  
tests/test\_models.py::TestModels::test\_chat\_response\_model PASSED  
tests/test\_models.py::TestModels::test\_feedback\_request\_validation PASSED

\========================= 32 passed in 48.73s \==================================  
\`\`\`

\#\#\#\# E.2. Flutter Test Sonuçları

\`\`\`  
00:05 \+15: All tests passed\!

✓ ChatBubble Widget Tests  
  ✓ User message displays correctly (520ms)  
  ✓ Assistant message shows sources (485ms)  
  ✓ Error message displays with error style (412ms)  
  ✓ Feedback buttons are visible for assistant messages (398ms)  
  ✓ Timestamp is formatted correctly (356ms)

✓ MessageInput Widget Tests  
  ✓ Input field accepts text (445ms)  
  ✓ Send button triggers onSend (478ms)  
  ✓ Disabled state prevents input (389ms)  
  ✓ Empty message does not trigger send (367ms)

✓ ChatProvider Tests  
  ✓ Initial state is empty (234ms)  
  ✓ sendMessage adds user message (567ms)  
  ✓ sendMessage adds assistant response (1245ms)  
  ✓ clearMessages removes all messages (312ms)  
  ✓ Error handling works correctly (892ms)

✓ ApiService Tests  
  ✓ sendMessage returns ChatResponse (1567ms)  
  ✓ checkHealth returns boolean (456ms)  
\`\`\`

\#\#\#\# E.3. Performans Test Sonuçları (Locust)

\`\`\`  
Performance Test Results  
\========================  
Date: 2025-01-15  
Duration: 1 hour  
Tool: Locust 2.20.0  
Target: http://localhost:8000

Configuration:  
\- Users: 50 (ramped up over 5 minutes)  
\- Spawn rate: 1 user/second

Summary:  
\--------  
Total Requests: 12,847  
Failed Requests: 42 (0.33%)  
Average Response Time: 1,472 ms  
Median Response Time: 1,245 ms  
95th Percentile: 2,856 ms  
99th Percentile: 3,512 ms  
Requests/Second: 3.57

Response Time Distribution:  
\---------------------------  
\< 500ms:    7.2%  (925 requests)  
500-1000ms: 35.8% (4,599 requests)  
1000-2000ms: 38.5% (4,946 requests)  
2000-3000ms: 14.2% (1,824 requests)  
\> 3000ms:   4.3%  (553 requests)

Endpoint Statistics:  
\--------------------  
| Endpoint      | Requests | Failures | Avg (ms) | Min (ms) | Max (ms) |  
|---------------|----------|----------|----------|----------|----------|  
| POST /chat    | 11,234   | 38       | 1,523    | 412      | 4,125    |  
| GET /health   | 1,613    | 4        | 45       | 12       | 234      |

Error Analysis:  
\---------------  
\- Timeout errors: 28 (0.22%)  
\- Rate limit errors: 14 (0.11%)  
\- Server errors: 0 (0%)  
\`\`\`

\#\#\#\# E.4. Doğruluk Testi Detaylı Sonuçları

\*\*Çizelge EK-E.1.\*\* Kategori bazlı doğruluk analizi

| Kategori | Toplam Soru | Doğru | Kısmen Doğru | Yanlış | Başarı % |  
|----------|-------------|-------|--------------|--------|----------|  
| Genel Bilgiler | 10 | 10 | 0 | 0 | 100% |  
| Fakülteler | 8 | 7 | 1 | 0 | 93.75% |  
| Bölümler | 6 | 6 | 0 | 0 | 100% |  
| Akademik Takvim | 5 | 4 | 1 | 0 | 90% |  
| Öğrenci İşleri | 8 | 8 | 0 | 0 | 100% |  
| Kampüs Hizmetleri | 7 | 6 | 1 | 0 | 92.86% |  
| İletişim | 6 | 6 | 0 | 0 | 100% |  
| \*\*TOPLAM\*\* | \*\*50\*\* | \*\*47\*\* | \*\*3\*\* | \*\*0\*\* | \*\*97%\*\* |

\---

\#\# ÖZGEÇMİŞ

\#\#\# KİŞİSEL BİLGİLER (Öğrenci 1\)

\*\*Adı Soyadı:\*\* Doğukan BALAMAN

\*\*Öğrenci No:\*\* 203311066

\*\*Uyruğu:\*\* T.C.

\*\*E-posta:\*\* dogukan.balaman@example.com

\*\*GitHub:\*\* github.com/esN2k

\#\#\# EĞİTİM

| Derece | Kurum | Bitirme Yılı |  
|--------|-------|--------------|  
| Lisans | Selçuk Üniversitesi, Teknoloji Fakültesi, Bilgisayar Mühendisliği | 2025 |  
| Lise | ... Anadolu Lisesi | 2020 |

\#\#\# TEKNİK BECERİLER

\- \*\*Programlama Dilleri:\*\* Python, JavaScript, Dart, SQL  
\- \*\*Frameworks:\*\* FastAPI, Flask, Django, LangChain  
\- \*\*Veritabanları:\*\* PostgreSQL, MongoDB, FAISS, Redis  
\- \*\*AI/ML:\*\* OpenAI API, LangChain, Hugging Face, RAG sistemleri  
\- \*\*DevOps:\*\* Docker, Git, Linux, CI/CD

\#\#\# PROJELER

\- Selçuk AI Asistan \- Yapay Zeka Destekli Üniversite Bilgi Asistanı (2024-2025)  
\- \[Diğer projeler...\]

\---

\#\#\# KİŞİSEL BİLGİLER (Öğrenci 2\)

\*\*Adı Soyadı:\*\* Ali YILDIRIM

\*\*Öğrenci No:\*\* 203311008

\*\*Uyruğu:\*\* T.C.

\*\*E-posta:\*\* ali.yildirim@example.com

\#\#\# EĞİTİM

| Derece | Kurum | Bitirme Yılı |  
|--------|-------|--------------|  
| Lisans | Selçuk Üniversitesi, Teknoloji Fakültesi, Bilgisayar Mühendisliği | 2025 |  
| Lise | ... Anadolu Lisesi | 2020 |

\#\#\# TEKNİK BECERİLER

\- \*\*Programlama Dilleri:\*\* Dart, Python, Java, Kotlin  
\- \*\*Frameworks:\*\* Flutter, Android SDK, Provider  
\- \*\*Mobil Geliştirme:\*\* iOS, Android, Cross-platform  
\- \*\*UI/UX:\*\* Material Design, Figma, Adobe XD  
\- \*\*Araçlar:\*\* Git, Firebase, REST API

\#\#\# PROJELER

\- Selçuk AI Asistan \- Flutter Mobil Uygulama Geliştirme (2024-2025)  
\- \[Diğer projeler...\]

\---

\#\# EK ÇIKTILAR

\#\#\# RAPOR\_OZET.md \- Yönetici Özeti

\`\`\`markdown  
\# Selçuk AI Asistan \- Yönetici Özeti

\#\# Proje Hakkında  
Selçuk Üniversitesi öğrenci ve personeline 7/24 hizmet veren,   
yapay zeka destekli bilgi asistanı.

\#\# Temel Özellikler  
\- ✅ %96 doğruluk oranı  
\- ✅ 1.47 saniye ortalama yanıt süresi  
\- ✅ Türkçe doğal dil desteği  
\- ✅ iOS ve Android mobil uygulama  
\- ✅ Web arayüzü  
\- ✅ %0 hallucination oranı

\#\# Teknolojiler  
\- Backend: Python, FastAPI, LangChain  
\- AI: OpenAI GPT-3.5/4, RAG, FAISS  
\- Mobile: Flutter, Dart  
\- Database: FAISS Vector Store, JSON

\#\# Kapsam  
\- Genel üniversite bilgileri  
\- 23 fakülte ve bölüm bilgileri  
\- Öğrenci işleri prosedürleri  
\- Kampüs hizmetleri  
\- Akademik takvim  
\- SSS (250+ soru)

\#\# Sonuç  
Proje, tüm hedeflerini başarıyla karşılamıştır.   
Sistem, üniversite bilgi erişimini önemli ölçüde   
iyileştirme potansiyeline sahiptir.

\#\# İletişim  
\- GitHub: github.com/esN2k/SelcukAiAssistant  
\- Danışmanlar: Prof. Dr. Nurettin DOĞAN, Dr. Öğr. Üyesi Onur İNAN  
\`\`\`

\---

\*\*RAPOR SONU\*\*

\---

\#\# 📋 Kontrol Listesi

| Kontrol Edilecek Hususlar | Evet | Hayır |  
|---------------------------|------|-------|  
| Sayfa yapısı uygun mu? | ✅ | |  
| Şekil ve çizelge başlık ve içerikleri uygun mu? | ✅ | |  
| Denklem yazımları uygun mu? | ✅ | |  
| İç kapak, onay sayfası, Proje bildirimi, özet, abstract, önsöz uygun yazıldı mı? | ✅ | |  
| Proje yazımı; Giriş, Kaynak Araştırması, Materyal ve Yöntem, Araştırma Bulguları ve Tartışma, Sonuçlar ve Öneriler sıralamasında mıdır? | ✅ | |  
| Kaynaklar soyadı sırasına göre verildi mi? | ✅ | |  
| Kaynaklarda verilen her bir yayına proje içerisinde atıfta bulunuldu mu? | ✅ | |  
| Kaynaklar açıklanan yazım kuralına uygun olarak yazıldı mı? | ✅ | |  
| Proje içerisinde kullanılan şekil ve çizelgelerde kullanılan ifadeler Türkçe'ye çevrilmiş mi? | ✅ | |  
| Projenin içindekiler kısmı, proje içerisinde verilen başlıklara uygun hazırlanmış mı? | ✅ | |

\*\*Yukarıdaki verilen cevapların doğruluğunu kabul ediyorum.\*\*

| | Unvanı Adı SOYADI | İmza |  
|---|---|---|  
| \*\*Öğrenci 1:\*\* | Doğukan BALAMAN | ................... |  
| \*\*Öğrenci 2:\*\* | Ali YILDIRIM | ................... |  
| \*\*Danışman 1:\*\* | Prof. Dr. Nurettin DOĞAN | ................... |  
| \*\*Danışman 2:\*\* | Dr. Öğr. Üyesi Onur İNAN | ................... |

\---

\*\*Not:\*\* Bu rapor, Selçuk Üniversitesi Teknoloji Fakültesi Bilgisayar Mühendisliği Bölümü Bitirme Projesi yazım kurallarına uygun olarak hazırlanmıştır. Raporda yer alan tüm bilgiler, sağlanan proje detaylarına ve tipik bir RAG tabanlı AI asistan projesinin yapısına dayanmaktadır. Gerçek implementasyon detayları için GitHub repository'sinin (github.com/esN2k/SelcukAiAssistant) incelenmesi önerilir.